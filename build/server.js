module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=39)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("styled-components")},function(e,t){e.exports=require("@babel/runtime/helpers/taggedTemplateLiteral")},function(e,t){e.exports=require("@babel/runtime/helpers/slicedToArray")},function(e,t){e.exports=require("@babel/runtime/regenerator")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("react-feather")},function(e,t){e.exports=require("@babel/runtime/helpers/asyncToGenerator")},function(e,t){e.exports=require("@babel/runtime/helpers/defineProperty")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("@babel/runtime/helpers/extends")},function(e,t){e.exports=require("react-router")},function(e,t){e.exports=require("@babel/runtime/helpers/objectWithoutProperties")},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("@babel/runtime/helpers/toConsumableArray")},function(e,t){e.exports=require("@stripe/react-stripe-js")},function(e,t){e.exports=require("react-loader-spinner")},function(e,t){e.exports=require("react-useanimations")},function(e,t){e.exports=require("redux")},function(e){e.exports=JSON.parse('{"views":{"addressForm":[{"placeholder":"","label":"Title","type":"text","name":"customer_title","width":"20%","required":true,"value":"customer_title"},{"placeholder":"","label":"Firstname","type":"text","name":"customer_firstname","width":"40%","required":true,"value":"customer_firstname"},{"placeholder":"","label":"Lastname","type":"text","name":"customer_lastname","width":"40%","required":true,"value":"customer_lastname"},{"placeholder":"","label":"Address 1","type":"text","name":"customer_address1","width":"50%","require":true,"value":"customer_address1"},{"placeholder":"","label":"Address 2","type":"text","name":"customer_address2","width":"50%","value":"customer_address2"},{"placeholder":"","label":"Town / City","type":"text","name":"customer_town","width":"50%","required":true,"value":"customer_town"},{"placeholder":"","label":"Postcode","type":"text","name":"customer_postcode","width":"30%","required":true,"value":"customer_postcode"}],"login":[{"placeholder":"example@gmail.com","label":"Email Address","type":"email","name":"email","required":true},{"placeholder":"*********","label":"Password","type":"password","name":"password","required":true}],"register":[{"placeholder":"Your Username","label":"Username","type":"text","name":"username","required":true},{"placeholder":"example@gmail.com","label":"Email Address","type":"text","name":"email"},{"placeholder":"*********","label":"Password","type":"password","name":"password"},{"placeholder":"*********","label":"Confirm Password","type":"password","name":"password_confirmation"}],"forgot-password":[{"placeholder":"example@gmail.com","label":"Email Address","type":"text","name":"email"}]}}')},function(e,t){e.exports=require("moment")},function(e,t){e.exports=require("@babel/runtime/helpers/getPrototypeOf")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("universal-cookie")},function(e,t){e.exports=require("react-rename")},function(e,t){e.exports=require("react-useanimations/lib/loading")},function(e,t){function n(e,t,n){}function r(e,t,n,r){e.customer_title;var a=e.customer_firstname,o=(e.customer_lastname,e.email);e.customer_address1,e.customer_address2,e.customer_postcode,e.customer_town;this.message_sent=!1,this.to_address=o,this.from_address="sales@chunkysoap.co.uk",this.message_subject="Thankyou for your order",this.message_text="Please see your chunky soap order details below",this.message_body={customer_name:a,order_id:r,cart_total:n,products:t.products,email_banner_image:"https://chunksysoap-1.s3.eu-west-2.amazonaws.com/email_header.png"},this.email_template_name="confirmation"}e.exports={OrderFactory:function(){this.create=function(e,t,a,o,c){switch(c){case 1:return new r(e,t,a,o);case 2:return new n(e,t);default:return{}}}}}},function(e,t){e.exports=require("react-dom")},function(e,t){e.exports=require("fuse.js")},function(e,t){e.exports=require("react-useanimations/lib/menu2")},function(e,t){e.exports=require("@babel/runtime/helpers/classCallCheck")},function(e,t){e.exports=require("@babel/runtime/helpers/createClass")},function(e,t){e.exports=require("@babel/runtime/helpers/inherits")},function(e,t){e.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("jspdf")},function(e,t){e.exports=require("@stripe/stripe-js")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("stripe")},function(e,t,n){e.exports=n(40)},function(e,t,n){"use strict";n.r(t);var r=n(23),a=n.n(r),o=n(46).default;a.a.createServer(o).listen(3e3,(function(){console.log("ðŸš€ started")})).on("error",(function(e){console.log(e)}))},function(e,t){e.exports=require("promise-retry")},function(e,t){e.exports={}},function(e,t){e.exports={}},function(e,t){e.exports=require("path")},function(e){e.exports=JSON.parse('{"client":{"css":"/static/css/bundle.2d80b716.css","js":"/static/js/bundle.c83e1b4b.js"},"":{"json":["/../chunks.json","/manifest.json"],"png":["/icon_114x114.dd54050e25b8bb58d0e2433dc2995cad.png","/icon_120x120.715eb318ff340e017ccca08c2db15cb8.png","/icon_144x144.1643b60b2714dd369e453ca884897666.png","/icon_152x152.ca9cd38e55fddd88570518e8c0299f23.png","/icon_16x16.7c16fadb7ec472d485127634f14a015e.png","/icon_180x180.8e34bc6d815173fe01ec33c77c5f660f.png","/icon_192x192.1dec1dd565712cd97bd9fa828bcb356c.png","/icon_32x32.ed670ba65ef48bbcfbd0d9792d944fb5.png","/icon_36x36.597833536f5dbb41bee82cd6d5e738cc.png","/icon_48x48.ee7db214ca94e210a7b9df96b9175c7a.png","/icon_57x57.0d199f525995ac794fa2af8b5ff15366.png","/icon_60x60.754cd5221c4be7447b6f4d2d4a5b5e18.png","/icon_72x72.f2d5307ca029e33b222a21552a08a109.png","/icon_76x76.22d7b8a972a188f00270debd7f411358.png","/icon_96x96.d79ec2402bdb8483fb8fe9415dbf9d1e.png"],"js":["/precache-manifest.299c13cac3fdd932fc97e8216a1a09df.js","/static/js/1.b9ddca6a.chunk.js","/static/js/2.5784441e.chunk.js","/static/js/3.561ebf46.chunk.js","/sw.js"],"txt":["/static/js/1.b9ddca6a.chunk.js.LICENSE.txt","/static/js/2.5784441e.chunk.js.LICENSE.txt","/static/js/3.561ebf46.chunk.js.LICENSE.txt","/static/js/bundle.c83e1b4b.js.LICENSE.txt"]}}')},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(18),c=n(5),i=n(9),l=n(8),u=n.n(l);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={products:[]};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={user:{}};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={basket:{products:[],total:0,postage:0,carrierId:null}};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={currentProduct:{}};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k={searchResults:[]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEARCH":return S(S({},e),{},{searchResults:t.payload});default:return e}};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T={orders:{}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ORDERS":return C(C({},e),{},{orders:t.payload});default:return e}};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A={showMenu:!1,showCategoryMenu:!1},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MENU":return R(R({},e),{},{showMenu:!0});case"HIDE_MENU":return R(R({},e),{},{showMenu:!1});case"TOGGLE_CATEGORY":return R(R({},e),{},{showCategoryMenu:!e.showCategoryMenu});default:return e}},N=Object(o.combineReducers)({currentProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCT":return O(O({},e),{},{currentProduct:t.payload});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(console.log("FETCH",t.payload),console.log("CATEGORIES ",e.categories),console.log("state should be ",t.payload),t.type){case"FETCH_PRODUCTS":return p(p({},e),{},{products:t.payload});default:return e}},basket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(console.log("ADDING",t.payload),t.type){case"SET_INITIAL_BASKET":return b(b({},e),{},{basket:{products:t.payload}});case"EMPTY_BASKET":return b(b({},e),{},{basket:x.basket});case"ADD_TO_BASKET":return b(b({},e),{},{basket:{products:t.payload}});case"REMOVE_FROM_BASKET":return b(b({},e),{},{basket:{products:e.basket.products.filter((function(e){return e._id!=t.payload._id}))}});case"UPDATE_TOTAL":return b(b({},e),{},{total:t.payload});case"SET_POSTAGE":return b(b({},e),{},{basket:b(b({},e.basket),{},{postage:t.payload.shipping_cost,carrierId:t.payload.id})});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CATEGORIES":return v(v({},e),{},{categories:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_SESSION":return m(m({},e),{},{user:t.payload});case"END_USER_SESSION":return m(m({},e),{},{user:{}});default:return e}},searchResults:_,orders:D,ui:F}),z=n(4),L=n.n(z),G=n(7),U=n.n(G),M=n(3),B=n.n(M),q=n(2),H=n.n(q),Y=n(1),K=n.n(Y),V="#95DCCB",W="#79CBB7",J="#F19AFF",X="#E963FF",Q="#77E5FF",$="#1E1C1C",Z="#0D0D0D",ee="#535151",te="#837D7D",ne="#C2C1C1",re="#DBDBDB",ae="#F7F2F2",oe="#C4C4C4",ce=[{size:230,opac:.6,x:10,t:500},{size:170,opac:.4,x:200,t:680},{size:190,opac:.2,x:1160,t:530},{size:120,opac:.3,x:800,t:690},{size:60,opac:.2,x:920,t:790},{size:50,opac:.7,x:80,t:900,dark:"yes"},{size:120,opac:.7,x:160,t:950,dark:"yes"}],ie=[{size:30,opac:.2,x:290,t:310},{size:90,opac:.4,x:350,t:320},{size:60,opac:.2,x:850,t:130},{size:120,opac:.2,x:750,t:190},{size:30,opac:.2,x:910,t:230},{size:120,opac:.2,x:990,t:320},{size:30,opac:.2,x:380,t:390,dark:"yes"},{size:100,opac:.1,x:260,t:400,dark:"yes"}],le=[{size:30,opac:.2,x:290,t:1110,dark:"yes"},{size:90,opac:.2,x:350,t:1120,dark:"yes"},{size:60,opac:.2,x:850,t:1030,dark:"yes"},{size:120,opac:.2,x:750,t:1090,dark:"yes"},{size:30,opac:.4,x:910,t:1130,dark:"yes"},{size:120,opac:.2,x:990,t:1220,dark:"yes"},{size:40,opac:.4,x:210,t:1260,dark:"yes"},{size:120,opac:.2,x:260,t:1300,dark:"yes"},{size:120,opac:.2,x:1290,t:1020,dark:"yes"},{size:40,opac:.4,x:1210,t:1260,dark:"yes"},{size:60,opac:.2,x:1400,t:1300,dark:"yes"},{size:30,opac:.2,x:350,t:1520,dark:"yes"},{size:30,opac:.2,x:290,t:1910,dark:"yes"},{size:90,opac:.2,x:350,t:1920,dark:"yes"},{size:60,opac:.2,x:850,t:1830,dark:"yes"},{size:120,opac:.2,x:750,t:1890,dark:"yes"},{size:30,opac:.4,x:910,t:1930,dark:"yes"},{size:120,opac:.2,x:990,t:1920,dark:"yes"},{size:40,opac:.4,x:210,t:1960,dark:"yes"},{size:120,opac:.2,x:260,t:2100,dark:"yes"},{size:120,opac:.2,x:1290,t:1820,dark:"yes"},{size:40,opac:.4,x:1210,t:2060,dark:"yes"},{size:60,opac:.2,x:1400,t:2e3,dark:"yes"},{size:30,opac:.2,x:350,t:2320,dark:"yes"}];function ue(){var e=H()([" grid-area: 3 / 4 / 4 / 5; padding: 20px 20px; "]);return ue=function(){return e},e}function se(){var e=H()([" grid-area: footer;\n                border-top: 1px solid #333;\n                padding: 20px;\n"]);return se=function(){return e},e}function pe(){var e=H()([" grid-area: product_total; padding: 50px 20px;"]);return pe=function(){return e},e}function de(){var e=H()(["grid-area: product_qty; padding: 50px 20px;"]);return de=function(){return e},e}function fe(){var e=H()([" padding: 50px 20px; grid-area: Product_name"]);return fe=function(){return e},e}function me(){var e=H()(["\n                grid-area: Address;\n                padding: 20px;\n                border-bottom: 1px solid #333;\n                "]);return me=function(){return e},e}function ge(){var e=H()(["\n                    grid-area: Logo;\n                    display: flex;\n                    flex-direction: row;\n                    padding: 0px 20px;\n                    border-bottom: 1px solid #333;\n                    "]);return ge=function(){return e},e}function he(){var e=H()(['\n     width: 591px;\n     height: 538px;\n     padding: 4px;\n     display: grid;\n     grid-template-columns: 1fr 1fr 1fr 1fr;\n     grid-template-rows: 0.3fr 1.6fr 0.6fr 1fr;\n     gap: 0px 0px;\n     grid-template-areas:\n    "Logo Logo Address Address"\n    "Product_name Product_name product_qty product_total"\n    "footer footer footer footer";\n']);return he=function(){return e},e}function be(){var e=H()(["\n        margin-bottom: ",";\n    "]);return be=function(){return e},e}function xe(){var e=H()(["\n    width: 100%;\n    height: 1px;\n    background-color: ",";\n    ","\n"]);return xe=function(){return e},e}function Ee(){var e=H()(["\n    margin-top: 20px;\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n    float: right;\n    width: 100%;\n"]);return Ee=function(){return e},e}function ve(){var e=H()(["\n    flex: 0.5;\n    height: 70px;\n    ","\n    display: flex;\n    justify-content: space-between;\n    margin-top: 30px;\n    padding: 20px 0px;\n    border-top: 1px solid ",";\n"]);return ve=function(){return e},e}function ye(){var e=H()(["\n    flex: 6;\n"]);return ye=function(){return e},e}function Oe(){var e=H()(["\n        padding: 20px 0px;\n        flex: 1;\n"]);return Oe=function(){return e},e}function we(){var e=H()(["\n    margin: 120px auto 50px auto;\n    max-width: 650px;\n    padding: 40px 50px;\n    border: 1px solid #DBDBDB;\n    border-radius: 25px;\n    min-height: 320px;\n    display: flex;\n    justify-content: space-between;\n    flex-direction: column;\n"]);return we=function(){return e},e}function je(){var e=H()(["\n    position: relative;\n    max-width: 100vw;\n    margin: 0px auto;\n    padding: 140px 100px 40px 100px;\n    background-color: white;\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: space-around;\n    overflowX: hidden;\n    z-index: 2;\n\n    &:nth-child() {\n        margin-left: 150px;\n    }\n    background-color: transparent;\n    ","\n    ","\n    ","\n"]);return je=function(){return e},e}function Se(){var e=H()(["\n        height: 520px;\n    "]);return Se=function(){return e},e}function ke(){var e=H()(["\n    width: 100%;\n    height: 800px;\n    color: white;\n    overflow: hidden;\n    background-color: ",";\n    ","\n"]);return ke=function(){return e},e}function _e(){var e=H()(["\n    margin-top: ","px;\n    "]);return _e=function(){return e},e}function Pe(){var e=H()(["\n        max-Width: ","px;\n    "]);return Pe=function(){return e},e}function Ce(){var e=H()(["\n    max-width: 1294px;\n    margin: 0px auto;\n    overflow: hidden;\n    ","\n    ","\n"]);return Ce=function(){return e},e}function Te(){var e=H()(["\n      background-color: white;\n    "]);return Te=function(){return e},e}function De(){var e=H()(["\n      background-color: ",";\n    "]);return De=function(){return e},e}function Ie(){var e=H()(["\n      height: ","px;\n    "]);return Ie=function(){return e},e}function Re(){var e=H()(["\n        padding: 0px 50px 50px 50px;\n        "]);return Re=function(){return e},e}function Ae(){var e=H()(["\n    max-width: 100vw;\n    background-color: ",";\n    min-height: 0px;\n    padding: 50px 50px 50px 50px;\n    overflowX: hidden;\n    z-index: -1;\n    ","\n    ","\n    ","\n    ","\n    ","\n    overflow: hidden;\n"]);return Ae=function(){return e},e}function Fe(){var e=H()(["\n        max-width: 100%;\n        background-color: ",";\n        "]);return Fe=function(){return e},e}function Ne(){var e=H()(["\n        width: 100%;\n  "]);return Ne=function(){return e},e}function ze(){var e=H()(["\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  overflowX: hidden;\n  position: relative;\n  ","\n  ","\n"]);return ze=function(){return e},e}var Le=K.a.div(ze(),(function(e){return!0===e.nav&&Object(Y.css)(Ne())}),(function(e){return e.location&&/product|checkout/.test(e.location)&&!0===e.nav&&Object(Y.css)(Fe(),V)})),Ge=K.a.div(Ae(),V,(function(e){return e.narrow&&Object(Y.css)(Re())}),(function(e){return e.height&&Object(Y.css)(Ie(),e.height)}),(function(e){return e.dark&&Object(Y.css)(De(),V)}),(function(e){return e.light&&Object(Y.css)(Te())}),(function(e){return e.mobile&&"\n        padding: 50px 15px 50px 15px\n        width: 100vw;\n    "})),Ue=K.a.div(Ce(),(function(e){return e.width&&Object(Y.css)(Pe(),e.width)}),(function(e){return e.mt&&Object(Y.css)(_e(),e.mt)})),Me=K.a.div(ke(),V,(function(e){return e.viewPort<963&&Object(Y.css)(Se())})),Be=K.a.div(je(),(function(e){return e.dark&&"\n        background-color: ".concat(V,";\n    ")}),(function(e){return e.mb&&"\n        margin-bottom: ".concat(e.mb,";\n    ")}),(function(e){return e.sm&&"\n        position: absolute;\n        top: 230px;\n        padding: 0 0 0 0;\n        left: 50%;\n        flex-direction: row;\n        flex-wrap: nowrap;\n        justify-content:  center ;\n        width: 90vw;\n        max-width: 90vw;\n        transform: translateX(-50%);\n    "})),qe=K.a.div(we()),He=K.a.div(Oe()),Ye=K.a.div(ye()),Ke=K.a.div(ve(),"",re),Ve=K.a.div(Ee()),We=K.a.div(xe(),re,(function(e){return e.mb&&Object(Y.css)(be(),e.mb)})),Je=K.a.div(he()),Xe=K.a.div(ge()),Qe=K.a.div(me()),$e=K.a.div(fe()),Ze=K.a.div(de()),et=K.a.div(pe()),tt=K.a.div(se()),nt=K.a.div(ue()),rt=n(13),at=n.n(rt),ot=n(20),ct=n.n(ot),it=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.length){var r=e.map((function(e){return e.total_price})),a=r.reduce((function(e,t){return e+t})),o=a+t+n;return o}return 0},lt=n(6),ut=function(e){var t,n=e.order,o=n.order_total,c=n.createdAt,i=n._id,l=n.order_items,u=n.order_customer,s=u.customer_firstname,p=u.customer_lastname,d=Object(r.useState)(null),f=B()(d,2),m=f[0],g=f[1];return console.log("ORDER_ITEM ",o),a.a.createElement("div",null,a.a.createElement("div",{style:{padding:"5px 90px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:"1px",justifyItems:"left",borderBottom:"2px solid ".concat(oe)}},a.a.createElement("div",null,(t=c,console.log("FN DATE",t),console.log(ct()(Date(t)).format("dd MMM Do")),ct()(t).format("ddd MMM Do"))),a.a.createElement("div",null,"$ ",o),a.a.createElement("div",null,s," ",p),a.a.createElement("div",null,n.order_carrier.shipping_carrier),a.a.createElement("div",null,a.a.createElement("button",{secondary:!0,sml:!0,onClick:function(){g(m===i?null:i)}},null===m?a.a.createElement(lt.MoreHorizontal,null):a.a.createElement(lt.ChevronUp,null)))),a.a.createElement("div",null,a.a.createElement(st,{items:l,id:i,item:m})))},st=function(e){var t=e.items.products,n=e.item,r=e.id;console.log("ORDER DEETS ",e);return a.a.createElement("div",{style:{marginBotton:"50",padding:"10px 90px",transition:"all 0.3s ease-in"},className:n===r?"visible":"hidden"},a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:"10px",borderBottom:"1px solid black"}},a.a.createElement("div",{style:{width:"100%"}},"Product"),a.a.createElement("div",{style:{width:"100%"}},"Price"),a.a.createElement("div",{style:{width:"100%"}},"Quantity"),a.a.createElement("div",{style:{width:"100%"}},"Total Price")),t&&t.map((function(e,t){return a.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",flexBasis:1,flexGrow:1},key:e._id},a.a.createElement("div",{style:{width:"100%"}},e.product_name),a.a.createElement("div",{style:{width:"100%"}},"$",e.product_price),a.a.createElement("div",{style:{width:"100%"}},e.product_qty),a.a.createElement("div",{style:{width:"100%"}},"$",e.total_price.toFixed(2)))})),a.a.createElement("div",{style:{display:"flex",flexDirection:"row",borderTop:"1px solid black",margin:"10px 0px",justifyContent:"space-around",padding:"10px 0px",alignItems:"center"}},a.a.createElement("div",{style:{width:"100%"}}),a.a.createElement("div",{style:{width:"100%"}}),a.a.createElement("div",{style:{width:"100%"}}),a.a.createElement("div",{style:{width:"100%"}},a.a.createElement(i.Link,{to:"/admin/invoices/".concat(r)},"View Invoice: ",a.a.createElement(lt.FileText,null))))))},pt=n(24),dt=new(n.n(pt).a),ft=JSON.parse,mt=JSON.stringify,gt={clear:function(e){return localStorage&&localStorage.getItem(e)?localStorage.removeItem(e):sessionStorage&&sessionStorage.getItem(e)?sessionStorage.removeItem(e):null},clearAppStorage:function(){return localStorage?localStorage.clear():sessionStorage?sessionStorage.clear():void 0},clearUser:function(){console.log("TOKEN CLEARER "),this.clearUserInfo(),this.clearToken()},clearToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jwtToken";return gt.clear(e)},clearUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"userInfo";return gt.clear(e)},get:function(e){return localStorage&&localStorage.getItem(e)?ft(localStorage.getItem(e))||null:sessionStorage&&sessionStorage.getItem(e)&&ft(sessionStorage.getItem(e))||null},getToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jwtToken";return gt.get(e)},getUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"userInfo";return gt.get(e)},set:function(e,t,n){return Object(rt.isEmpty)(e)?null:(dt.set(t,mt(e)),n&&localStorage?localStorage.setItem(t,mt(e)):sessionStorage?sessionStorage.setItem(t,mt(e)):null)},setToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"jwtToken";return gt.set(e,n,t)},setUserInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"userInfo";return gt.set(e,n,t)}},ht=gt;function bt(e){return e.json?e.json():e}function xt(e){return e.status>=200&&e.status<300?e:bt(e).then((function(t){var n=new Error(e.statusText);throw n.response=e,n.response.payload=t,n}))}function Et(e){return Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")}function vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];console.log("REQUEST FUNCTION ",e,t),n&&(t.headers=Object.assign({"Content-Type":"application/json"},t.headers,{}));var r=ht.getToken();if(r&&(t.headers=Object.assign({Authorization:"Bearer ".concat(r)},t.headers)),t&&t.params){var a=Et(t.params);e="".concat(e,"?").concat(a)}return t&&t.body&&n&&(t.body=JSON.stringify(t.body)),fetch(e,t).then(xt).then(bt)}n(41);var yt=function(e,t,n){var r=arguments;return U()(L.a.mark((function a(){var o,c,i,l,u,s,p,d;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=r.length>3&&void 0!==r[3]?r[3]:"protected",c="https://chunky-soap-api.herokuapp.com",a.next=4,JSON.parse(sessionStorage.getItem("jwtToken"));case 4:return i=a.sent,console.log("TOKEN ",i),l="".concat(c),(u=new Headers).append("Content-Type","application/json"),""!==i&&"public"!==o&&u.append("Authorization","Bearer ".concat(i)),s=JSON.stringify(n),console.log("raw data ",s),p={method:t,headers:u,mode:"cors",credentials:"omit",body:s,redirect:"follow"},d=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,a=[404,401,408,500,502,503,504,522,524];return fetch(t,n).then((function(o){if(console.log("STATUS",o.status),200===o.status)return o.json();if(r>0&&a.includes(o.status))return console.log("retries ",r),e(t,n,r-1);throw new Error(o)})).catch((function(a){if(console.log(a),0!==r)return e(t,n,r-1)}))},a.abrupt("return",d("".concat(l).concat(e),p));case 15:case"end":return a.stop()}}),a)})))()},Ot={login:function(e,t){return U()(L.a.mark((function n(){var r;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://chunky-soap-api.herokuapp.com",n.prev=1,console.log("STRAPI LOGIN ",e),n.next=5,vt("".concat("https://chunky-soap-api.herokuapp.com","/auth/local/"),{method:"POST",body:e});case 5:return r=n.sent,console.log("STRAPI RESPONSE ",r),ht.setToken(r.jwt,e.rememberMe),ht.setUserInfo(r.user,e.rememberMe),t({type:"SET_USER_SESSION",payload:r}),n.abrupt("return",r);case 13:return n.prev=13,n.t0=n.catch(1),n.abrupt("return",{status:400,message:n.t0});case 16:case"end":return n.stop()}}),n,null,[[1,13]])})))()},register:function(e,t){var n=this;return U()(L.a.mark((function r(){var a;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return"https://chunky-soap-api.herokuapp.com",r.prev=1,r.next=4,vt("".concat("https://chunky-soap-api.herokuapp.com","/auth/local/register/"),{method:"POST",body:e});case 4:a=r.sent,ht.setToken(a.jwt,e.rememberMe),ht.setUserInfo(a.user,e.rememberMe),console.log("NEW USER ",a.user),n.createCustomer(a.user.id,t),r.next=14;break;case 11:return r.prev=11,r.t0=r.catch(1),r.abrupt("return",r.t0);case 14:case"end":return r.stop()}}),r,null,[[1,11]])})))()},createCustomer:function(e,t){return U()(L.a.mark((function n(){var r,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("CREATING CUSTOMER"),r={customer_title:"",customer_firstname:"",customer_lastname:"",customer_address1:"",customer_address2:"",customer_town:"",customer_postcode:"",customer_created:new Date,user:e},n.prev=2,n.next=5,yt("/customers","POST",r);case 5:a=n.sent,t({type:"SET_USER_SESSION",payload:a}),n.next=12;break;case 9:return n.prev=9,n.t0=n.catch(2),n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})))()},logout:function(e){console.log("LOGGING_OUT"),ht.clearUser(),e({type:"END_USER_SESSION"})}};function wt(){var e=H()(["\n        background-color: ","\n    "]);return wt=function(){return e},e}function jt(){var e=H()(["\n        background-color: ",";\n    "]);return jt=function(){return e},e}function St(){var e=H()(["\n        background-color: ","\n    "]);return St=function(){return e},e}function kt(){var e=H()(["\n        opacity: 0.3;\n        "]);return kt=function(){return e},e}function _t(){var e=H()(["\n        font-size: 18px;\n        font-weight: 400;\n        & .button-content {\n            height: 70px;\n            transition: all 0.1s ease-in;\n            display: flex;\n            flex-direction: column;\n            justify-content: space-between;\n            transform: translateY(3px);\n        }\n        & .button-content >* {\n            font-weight: 400;\n            font-size: 18px;\n        }\n\n        &:hover .button-content {\n            transform: translateY(-39px);\n        }\n        "]);return _t=function(){return e},e}function Pt(){var e=H()(["\n        font-size: 24px;\n        font-weight: 500;\n        & .button-content {\n            height: 70px;\n            transition: all 0.1s ease-in;\n            display: flex;\n            flex-direction: column;\n            justify-content: space-between;\n            transform: translateY(1px);\n        }\n        & .button-content >* {\n            font-weight: 600;\n            font-size: 20px;\n        }\n\n        &:hover .button-content {\n            transform: translateY(-39px);\n        }\n        "]);return Pt=function(){return e},e}function Ct(){var e=H()(["\n            min-height: 62px;\n            min-width: 240px;\n            border-radius: 0px 50px 50px 0px;\n            padding: 5px 20px;\n            transition: all 0.5s ease-in;\n            &:hover {\n                background-color: ",";\n            }\n            &:hover .button-content {\n                transform: translateY(5px);\n            }\n        "]);return Ct=function(){return e},e}function Tt(){var e=H()(["\n        font-size: 28px;\n        min-height: 50px;\n        font-weight: 600;\n        padding: 8px 50px;\n        & .button-content {\n            height: 70px;\n            transition: all 0.1s ease-in;\n            display: flex;\n            flex-direction: column;\n            justify-content: space-between;\n            transform: translateY(5px);\n        }\n        & .button-content >* {\n            font-weight: 600;\n            font-size: 20px;\n        }\n            &:hover {\n                background-color: ",";\n            }\n\n        &:hover .button-content {\n            transform: translateY(-37px);\n        }\n\n        "]);return Tt=function(){return e},e}function Dt(){var e=H()(["\n        min-width: 190px;\n        max-height: 42px;\n        "]);return Dt=function(){return e},e}function It(){var e=H()(["\n        width: props.width !important;\n    "]);return It=function(){return e},e}function Rt(){var e=H()(["\n    transition: all 0.3s ease-out;\n    position: relative;\n    padding: 8px 25px;\n    border-radius: 50px;\n    background-color: ",";\n    border: none;\n    color: white;\n    font-weight: 400;\n    cursor: pointer;\n    z-index: 100;\n    overflow: hidden;\n    margin: 0px 10px;\n    ","\n    & .button-content >* {\n        font-weight: 400;\n        font-size: 18px;\n    }\n    ","\n    ","\n        ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return Rt=function(){return e},e}var At=K.a.button(Rt(),oe,(function(e){return e.width&&Object(Y.css)(It())}),(function(e){return e.fixed&&Object(Y.css)(Dt())}),(function(e){return e.big&&Object(Y.css)(Tt(),X)}),(function(e){return e.xl&&Object(Y.css)(Ct(),X)}),(function(e){return e.med&&Object(Y.css)(Pt())}),(function(e){return e.sml&&Object(Y.css)(_t())}),(function(e){return e.disabled&&Object(Y.css)(kt())}),(function(e){return e.primary&&Object(Y.css)(St(),J)}),(function(e){return e.secondary&&Object(Y.css)(jt(),V)}),(function(e){return e.tertiary&&Object(Y.css)(wt(),Q)}),"");function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zt=function(){var e=Object(c.useSelector)((function(e){return e.orders.orders})),t={numberPerPage:6,pageCount:1,currentData:[]},n=Object(r.useReducer)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0;switch(console.log("PAGE REDUCER ",n.payload),n.type){case"GET_DATA":return Nt(Nt({},e),{},{currentData:n.payload});case"PREV_PAGE":return Nt(Nt({},e),{},{pageCount:e.pageCount-1});case"NEXT_PAGE":return Nt(Nt({},e),{},{pageCount:e.pageCount+1});case"SET_PAGE":return Nt(Nt({},e),{},{pageCount:n.payload});default:return e}}),t),o=B()(n,2),i=o[0],l=o[1],u=Object(c.useDispatch)();Object(r.useEffect)((function(){p()}),[]),Object(r.useEffect)((function(){if(e.length>0){var t=e.slice((i.pageCount-1)*i.numberPerPage,i.pageCount*i.numberPerPage);console.log("Mounted paginated ",t),l({type:"GET_DATA",payload:t}),console.log("MOUNTED state ",i)}console.log("Mounted: ",e,i)}),[e,i.pageCount]);var s,p=function(){var e=U()(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt("/orders","GET",void 0,"public");case 2:t=e.sent,u({type:"GET_ORDERS",payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Ge,{light:!0},a.a.createElement("h1",null,"Orders"),a.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",alignContent:"right",marginBottom:20}},a.a.createElement("div",null,"Date"),a.a.createElement("div",null,"Amount"),a.a.createElement("div",null,"Customer"),a.a.createElement("div",null,"Shipping"),a.a.createElement("div",null)),i.currentData.length>0&&((s=i.currentData).length>0&&s.sort((function(e,t){return e.createdAt-t.createdAt})).map((function(e,t){return a.a.createElement(ut,{order:e,key:t})}))),a.a.createElement("div",{style:{display:"flex"}},e.length>0&&function(e){var t=i.pageCount,n=Math.round(e.length/i.numberPerPage)+1;return a.a.createElement(a.a.Fragment,null,i.pageCount>1&&a.a.createElement(At,{secondary:!0,onClick:function(){return l({type:"PREV_PAGE"})}},"PREV"),n>0&&new Array(n).fill().map((function(e,n){return t===n+1?a.a.createElement(At,{primary:!0,sml:!0,onClick:function(){l({type:"SET_PAGE",payload:n+1})}},n+1):a.a.createElement(At,{sml:!0,onClick:function(){l({type:"SET_PAGE",payload:n+1})}},n+1)})),i.pageCount<n&&a.a.createElement(At,{secondary:"true",onClick:function(){return l({type:"NEXT_PAGE"})}},"NEXT"))}(e)))},Lt=n(11);function Gt(){var e=H()(["\n            font-weight: 600;\n            margin-bottom: 10px;\n    "]);return Gt=function(){return e},e}function Ut(){var e=H()(["\n            color: red;\n    "]);return Ut=function(){return e},e}function Mt(){var e=H()(["\n        font-size: 24px;\n        color: ",";\n        font-weight: 600;\n    "]);return Mt=function(){return e},e}function Bt(){var e=H()(["\n    font-size: 1.25rem;\n    font-weight: 400;\n    margin-bottom: 20px;\n    margin-top: 20px;\n    font-style: italic;\n    ","\n    ","\n    ","\n    color: ",";\n    ","\n    ","\n    ","\n"]);return Bt=function(){return e},e}function qt(){var e=H()(["\n    font-size: 1.75rem;\n    font-weight: 400;\n    margin-bottom: 15px;\n    color: ",";\n"]);return qt=function(){return e},e}function Ht(){var e=H()(["\n        color: white;\n    "]);return Ht=function(){return e},e}function Yt(){var e=H()(["\n    font-size: 1.375rem;\n    font-weight: 600;\n    margin-bottom: 5px;\n    color: ",";\n    ","\n"]);return Yt=function(){return e},e}function Kt(){var e=H()(["\n        color: ",";\n    "]);return Kt=function(){return e},e}function Vt(){var e=H()(["\n    font-size: 1.75rem;\n    ","\n    font-weight: 400;\n    margin-bottom: 5px;\n    color: ",";\n    ","\n"]);return Vt=function(){return e},e}function Wt(){var e=H()(["\n        color: white;\n    "]);return Wt=function(){return e},e}function Jt(){var e=H()(["\n    font-size: 3rem;\n    font-weight: 600;\n    margin-bottom: 5px;\n    color: ",";\n    ","\n"]);return Jt=function(){return e},e}function Xt(){var e=H()(["\n    font-size: 32px;\n    color: white;\n    font-weight: 400;\n    line-height: 200%;\n"]);return Xt=function(){return e},e}function Qt(){var e=H()(["\n    margin-top: 50px;\n    text-align: left;\n    font-size: 58px;\n    font-weight: 600;\n    color: white;\n    line-height: 100%;\n"]);return Qt=function(){return e},e}function $t(){var e=H()(["\n        color: white;\n        background-color: ",";\n        padding-top: 0px;\n        height: 19px;\n    "]);return $t=function(){return e},e}function Zt(){var e=H()(["\n    text-align: center;\n    padding-top: 40px;\n    height: 45.2px;\n    font-size: clamp(2rem, 5vw, 3rem);\n    font-weight: 400;\n    color: ",";\n    background-color: white;\n    z-index: 21000;\n    ","\n"]);return Zt=function(){return e},e}var en=K.a.h1(Zt(),te,(function(e){return e.light&&Object(Y.css)($t(),V)})),tn=K.a.h1(Qt()),nn=K.a.h3(Xt()),rn=K.a.h1(Jt(),ee,(function(e){return e.light&&Object(Y.css)(Wt())})),an=K.a.h2(Vt(),"",te,(function(e){return e.dark&&Object(Y.css)(Kt(),Z)})),on=K.a.h1(Yt(),ee,(function(e){return e.light&&Object(Y.css)(Ht())})),cn=K.a.h3(qt(),ne),ln=K.a.p(Bt(),(function(e){return e.sml&&"\n        font-size: 16px;\n        margin-bottom: 5px;\n        margin-top: 5px;\n    "}),(function(e){return e.narrow&&"\n        margin-bottom: 20px;\n        margin-top: 20px;\n    "}),(function(e){return e.centered&&"\n        text-align: center;\n    "}),ee,(function(e){return e.big&&Object(Y.css)(Mt(),te)}),(function(e){return e.danger&&Object(Y.css)(Ut())}),(function(e){return e.heavy&&Object(Y.css)(Gt())}));function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pn=function(e,t){switch(t.type){case"STANDARD_CHECKOUT":return sn(sn({},e),{},{authenticated:!1,guest:null,step:1});case"GUEST_CHECKOUT":return sn(sn({},e),{},{guest:!0,step:1});case"NEXT_STEP":return sn(sn({},e),{},{step:e.step+1});case"PREV_STEP":return sn(sn({},e),{},{step:e.step-1});case"LOGGING_IN":return sn(sn({},e),{},{authenticated:!1,loading:!0});case"LOGIN_FAIL":return sn(sn({},e),{},{loading:!1,step:1,guest:null,errorMsg:t.payload,authenticated:!1});case"LOGGED_IN":return sn(sn({},e),{},{authenticated:!0,guest:!1,loading:!1,fields:{}});case"CHECKOUT_SUCCESS":return sn(sn({},e),{},{step:4,loading:!1});case"SET_POSTAGE":return sn(sn({},e),{},{loading:!1,postage:t.payload});case"UPDATE_FIELD":return console.log("UPDATING IN REDUCER",t.fieldName,t.fieldValue),sn(sn({},e),{},{fields:sn(sn({},e.fields),{},u()({},t.fieldName,t.fieldValue))});case"CLEAR_FIELDS":return sn(sn({},e),{},{fields:sn(sn({},e.fields),{},{password:"",username:"",identifier:""})});default:return e}},dn=n(14),fn=n.n(dn),mn=n(25),gn=n(10),hn=n.n(gn),bn=n(16),xn=n.n(bn),En=function(e){var t=hn()({},e);return a.a.createElement(a.a.Fragment,null,t.withIcon?a.a.createElement("div",{onClick:function(){return t.handleClick()}},t.children):a.a.createElement(At,hn()({fixed:!0},t,{onClick:function(){return t.handleClick()}}),a.a.createElement("div",{className:"button-content"},t.styled&&a.a.createElement("div",null,t.children),a.a.createElement("div",null,!0===t.loading?a.a.createElement(xn.a,{type:"ThreeDots",color:"#FFFFFF",height:29,width:29,timeout:3e4}):t.text),a.a.createElement("div",null,t.children||a.a.createElement(lt.Check,null)))))};En.defaultProps={handleClick:function(){},loading:"false"};var vn=En,yn=n(17),On=n.n(yn),wn=n(26),jn=n.n(wn);n(42);function Sn(){var e=H()(["\n  cursor: pointer;\n"]);return Sn=function(){return e},e}var kn=Object(mn.reactRename)(jn.a,"loadingCircle"),_n=function(e){var t=Object(c.useSelector)((function(e){return e.basket})).basket,n=Object(c.useDispatch)(),o=Object(r.useState)([]),i=B()(o,2),l=i[0],u=i[1],s=Object(r.useState)(!1),p=B()(s,2),d=p[0],f=p[1],m=Object(r.useState)(!1),g=B()(m,2),h=g[0],b=g[1],x=e.product,E=x._id,v=x.product_name,y=x.product_short_description,O=x.product_price,w=x.product_picture_1,j=x.product_discount,S=e.quantity,k=void 0===S?1:S;Object(r.useEffect)((function(){if(process.browser){var e=localStorage.getItem("soap-cart");e&&(u(JSON.parse(e)),n({type:"SET_INITIAL_BASKET",payload:JSON.parse(e)}))}}),[]);var _=function(){return a.a.createElement(xn.a,{type:"ThreeDots",color:"#FFFFFF",height:29,width:29,timeout:3e4})},P=function(e){return t.products.filter((function(t){return t._id===e}))},C=function(){var e=P(E),r=t.products,a=r.findIndex((function(e){return e._id===E})),o=r[a];if(1==e[0].product_qty){var c=r.filter((function(e){return e!=o}));n({type:"REMOVE_FROM_BASKET",payload:o}),localStorage.setItem("soap-cart",JSON.stringify(c))}else o.product_qty--,o.total_price=parseFloat(o.product_price*o.product_qty),u(r),n({type:"ADD_TO_BASKET",payload:r}),localStorage.setItem("soap-cart",JSON.stringify(r))},T=function(){f(!0),setTimeout((function(){console.log(k);var e=parseFloat(O-O*j/100),r={_id:E,product_name:v,product_description:y,product_picture_1:w.url,product_price:e,product_qty:k,total_price:e};if(0===l.length)u([r]),n({type:"ADD_TO_BASKET",payload:[r]}),localStorage.setItem("soap-cart",JSON.stringify([r]));else{var a=t.products;if(P(E).length>0){var o=a.findIndex((function(e){return e._id===E})),c=a[o];c.product_qty+=k,c.total_price=parseFloat(c.product_price*c.product_qty),u(a),n({type:"ADD_TO_BASKET",payload:a}),localStorage.setItem("soap-cart",JSON.stringify(a))}else{var i=[].concat(fn()(l),[r]);localStorage.setItem("soap-cart",JSON.stringify(i)),u([].concat(fn()(l),[r])),n({type:"ADD_TO_BASKET",payload:i})}}f(!1),b(!0)}),1e3)};return a.a.createElement(a.a.Fragment,null,"add"===e.function&&!e.icon&&a.a.createElement(vn,{primary:!0,med:!0,fixed:!0,withIcon:e.icon,style:{maxWidth:200},handleClick:T,text:h?"Add more":"Add to cart"},d&&_(),!d&&a.a.createElement(lt.ShoppingCart,null)),!e.icon&&"add"===!e.function&&a.a.createElement(vn,{primary:!0,med:!0,fixed:!0,withIcon:e.icon,style:{maxWidth:200},handleClick:C,text:"Remove"},d&&_(),!d&&a.a.createElement(lt.Trash2,null)),e.icon&&"add"===e.function?a.a.createElement(Pn,{handleClick:!0,onClick:function(){return T()}},!1===d?e.children:a.a.createElement(On.a,{animation:kn,strokeColor:"green",size:28})):a.a.createElement(Pn,{onClick:function(){return C()}},!1===d?e.children:a.a.createElement(On.a,{animation:kn,strokeColor:"green"})))},Pn=K.a.div(Sn());function Cn(){var e=H()(["\n    width: 20px;\n    height: 20px;\n    z-index: 2000;\n    ","\n    background-color: ",";\n    margin-left: 53%;\n    margin-top: -25px;\n    transform: rotate(45deg);\n"]);return Cn=function(){return e},e}function Tn(){var e=H()(["\n    max-width: 400px;\n    ","\n    ","\n    background-color: ",";\n    z-index: 3000;\n    position: absolute;\n    top: 60px;\n    border-radius: 20px;\n    box-shadow: 4px 4px 12px rgba(0,0,0, 0.2);\n    transform: translateX(-150px);\n    color: white;\n    padding: 20px 20px;\n    & ul {\n        list-style: none;\n        margin-left: 20px;\n        display: flex;\n        flex-direction: row;\n        max-width: 90%;\n        justify-content: space-between;\n        flex-flow: wrap;\n    }\n\n    & ul > li {\n        font-size: 24px;\n        margin-top: 10px;\n        margin-right: 10px;\n    }\n"]);return Tn=function(){return e},e}var Dn=K.a.div(Tn(),"","",J),In=K.a.div(Cn(),"",J),Rn=function(e){var t=e.closeMenu,n=e.menuData;e.title;return console.log("MENU DATA ",e),a.a.createElement(a.a.Fragment,null,a.a.createElement(Dn,{onMouseLeave:t},a.a.createElement(In,null),a.a.createElement("ul",null,n&&n.map((function(e,t){return a.a.createElement("li",{key:t},a.a.createElement(Fn,{color:"dark",to:"/category/".concat(e._id)},e.category_name))})))))};Rn.defaultProps={closeMenu:function(){},menuData:[],title:"menu"};var An=Rn,Fn=function(e){var t,n=e.children,o=e.to,c=e.withMenu,l=e.menuData,u=e.menuTitle,s=e.color,p=e.display,d=Object(r.useState)(!1),f=B()(d,2),m=f[0],g=f[1],h=Object(r.useState)(!1),b=B()(h,2),x=b[0],E=b[1],v=Object(i.useHistory)(),y=Object(i.useLocation)(),O={fontWeight:600,marginRight:10,display:"flex",justifyContent:"space-between",alignItems:"center",color:(t=y.pathname,("/"===t?"/":t.match(/^\/([^?\/]+)/)[0])===o&&"/basket"!==y.pathname||!0===m?"".concat(J):"black")},w={color:y.pathname.includes(o)&&"/basket"!==y.pathname||!0===m?"white":"black"},j=function(){g(!m),c&&E(!0)},S=function(e){e.preventDefault(),!p&&v.push(o)};return a.a.createElement(a.a.Fragment,null,"dark"===s?a.a.createElement("a",{href:o,onClick:S,onMouseOver:function(){return at.a.debounce(j,100,{leading:!0,trailing:!1})},onMouseOut:j,style:"dark"===s?w:null},n):a.a.createElement("a",{href:o,onClick:S,onMouseOver:function(){return at.a.debounce(j,100,{leading:!0,trailing:!1})},onMouseOut:j,style:O},n),c&&!0===x?a.a.createElement(An,{closeMenu:function(){E(!1),console.log("COLSING")},title:u,menuData:l}):null)},Nn=n(12),zn=n.n(Nn);function Ln(){var e=H()(["\n      height: 70px;\n      max-width: 70px;\n      min-width: 70px;\n      border-radius: 15px\n    "]);return Ln=function(){return e},e}function Gn(){var e=H()(["\n  &, :after { \n    ","\n    height: 330px;\n    width: 340px;\n    min-width: 340px;\n    border-radius: 80px;\n    background-color: #CCEAE3;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    z-index: 7;\n    transition: all 0.2s ease-in;\n    position: relative;\n    ","\n   }\n    &::after {\n        content:''; \n        transform: rotate(20deg);\n         z-index: -10;\n         position: absolute;\n         opacity: 0.3;\n         transition: all .5s ease-in;\n         box-shadow: rgba(149, 220, 203, 0.2) 0px 2px 13px, inset rgba(149, 220, 203, 0.2) 0px -1px 12px;\n    }\n    &:hover {\n        transform: rotate(-4deg);\n    }\n"]);return Gn=function(){return e},e}var Un=K.a.div(Gn(),"",(function(e){return e.sml&&Object(Y.css)(Ln())}));function Mn(){var e=H()(["\n        &, ::before{\n        position: relative;\n        padding: 15px 25px 15px 0px ;\n        border-radius: 50px;\n        max-width: 360px;\n        min-width: 360px;\n        height: 20px;\n        background-color: #F6F2F2;\n        display: flex;\n        ","\n        ","\n        justify-content: space-between;\n        }\n        &::before {\n            content: '';\n            background-color: #EFB4F9;\n            min-width: 130px;\n            transform: translateY(-14px);\n            ","\n            position: absolute;\n            color: white;\n        }\n\n        "]);return Mn=function(){return e},e}function Bn(){var e=H()(["\n       &, ::after {\n        position: relative;\n        text-align: center;\n        padding: 15px 15px;\n        border-radius: 50px;\n        max-height: 20px;\n        max-width: 60px;\n        color: white;\n        background-color: #F9B233;\n        z-index: 10;\n        transform: translate(300px, -280px);\n       }\n "]);return Bn=function(){return e},e}var qn=function(e){var t=Object(r.useState)({}),n=B()(t,2),o=n[0],c=n[1],i=Object(r.useState)(!1),l=B()(i,2),u=l[0],s=l[1];Object(r.useEffect)((function(){e.product&&(console.log("PRODUCT ",e.product),c(e.product))}),[e]);var p=o.product_picture_1,d=(o.product_featured,o.product_name),f=o.product_discount,m=o.product_price,g=o._id,h=o.categories;return a.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:25,marginTop:25}},a.a.createElement(Un,{onClick:function(){return e.clickEvent(g)},onMouseOver:function(){return s(!0)},onMouseLeave:function(){return s(!1)}},a.a.createElement("img",{src:p?"".concat(p.url):"/noimage.png",alt:"product-image",style:{maxHeight:250}}),a.a.createElement(lt.Eye,{color:"white",size:36,style:{position:"fixed",bottom:30,right:40,visibility:u?"visible":"hidden",transition:"all 0.5 ease-in"}})),a.a.createElement(Hn,null,a.a.createElement("h2",null,e.info)),a.a.createElement("h2",{style:{marginLeft:10,fontSize:24,marginTop:-15,marginBottom:10}},d&&d),a.a.createElement(Yn,null,a.a.createElement("h3",{style:{zIndex:300,color:"white",marginLeft:15,fontSize:20}},h&&h[0].category_name),f>0?a.a.createElement("h3",{style:{opacity:.3,marginLeft:45,fontSize:20,textDecoration:"line-through"}},"Â£  ",m.toFixed(2)):null,a.a.createElement("h3",{style:{fontSize:20}},"Â£",m-(m*f/100).toFixed(2))))},Hn=K.a.div(Bn()),Yn=K.a.div(Mn(),"","","");function Kn(){var e=H()(["\n      background-color: black;\n    "]);return Kn=function(){return e},e}function Vn(){var e=H()(["\n  border: none;\n  border-radius: 50%;\n  background-color: gray;\n  cursor: pointer;\n  width: 15px;\n  height: 15px;\n  margin: 8px;\n  ","\n"]);return Vn=function(){return e},e}function Wn(){var e=H()(["\n  display: flex;\n  height: 50px;\n  width: 100%;\n  flex-direction: row;\n  justify-content: center;\n  z-index: 9;\n  transform: translateY(-90px);\n"]);return Wn=function(){return e},e}var Jn=function(e){var t=e.data,n=e.handleClick,o=e.perPage,c=zn()(e,["data","handleClick","perPage"]),i=Object(r.useState)([]),l=B()(i,2),u=l[0],s=l[1],p=Object(r.useState)(1),d=B()(p,2),f=d[0],m=d[1],g=o;console.log("DATA LENGTH",t.length),Object(r.useEffect)((function(){if(t&&t.length>0){var e=t.length/g;s(fn()(Array(Math.ceil(e))))}}),[t,f]),Object(r.useEffect)((function(){console.log("SLICE",u)}),[u]);return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(Be,hn()({},c,{mb:"100px"}),t.length>0?t.slice((f-1)*g,f*g).map((function(e,t){return a.a.createElement(qn,{product:e,info:"New",key:t,clickEvent:n})})):[t].map((function(e,t){return a.a.createElement(qn,{product:e,info:"New",key:t,clickEvent:n})}))),t&&a.a.createElement(Xn,null,t.length>3&&u.map((function(e,t){return a.a.createElement(Qn,{page:f,value:t+1,key:t,onClick:function(e){return function(e){m(e.target.value)}(e)}})}))))},Xn=K.a.div(Wn()),Qn=K.a.button(Vn(),(function(e){return e.page==e.value&&Object(Y.css)(Kn())}));function $n(){var e=H()(["\n        width: ","px;\n        height: ","px;\n    "]);return $n=function(){return e},e}function Zn(){var e=H()(["\n        opacity: ",";\n    "]);return Zn=function(){return e},e}function er(){var e=H()(["\n         transform: translateX(","px);\n    "]);return er=function(){return e},e}function tr(){var e=H()(["\n        transform: translateY(",");\n    "]);return tr=function(){return e},e}function nr(){var e=H()(["\n        top: ","px;\n    "]);return nr=function(){return e},e}function rr(){var e=H()(["\n        background-color: ",";\n        ","\n    "]);return rr=function(){return e},e}function ar(){var e=H()(["\n    height: 100px;\n    width: 100px;\n    border-radius: 50%;\n    background-color: white;\n    opacity: 0.5;\n    position: absolute;\n    z-index: 1;\n    ","\n    ","\n    ","\n    ","\n    ","\n    ","\n"]);return ar=function(){return e},e}var or=K.a.div(ar(),(function(e){return e.dark&&Object(Y.css)(rr(),W,"")}),(function(e){return e.t&&Object(Y.css)(nr(),e.t)}),(function(e){return e.y&&Object(Y.css)(tr(),e.y)}),(function(e){return e.x&&Object(Y.css)(er(),e.x)}),(function(e){return e.opac&&Object(Y.css)(Zn(),e.opac)}),(function(e){return e.size&&Object(Y.css)($n(),e.size,e.size)}));function cr(){var e=H()(["\n            background-color: ",";\n            }\n            "]);return cr=function(){return e},e}function ir(){var e=H()(["\n            width: 0px;\n           "]);return ir=function(){return e},e}function lr(){var e=H()(["\n            background-color: ",";\n           "]);return lr=function(){return e},e}function ur(){var e=H()(["\n&{\n        height: 36px;\n        width: 36px;\n        border-radius: 50%;\n        background-color: ",";\n        position: relative;\n        display: inline-block;\n        margin-right: 150px;\n        flex-shrink: 4;\n        ","\n        }\n}\n    &::before {\n        content: '';\n        position: absolute;\n        border-radius: 50%;\n        border: 3px solid white;\n        width: 22px;\n        height: 22px;\n        top: 4px;\n        left: 4px;\n    }\n    &::after {\n        content: '';\n        width: 150px;\n        height: 3px;\n        background-color: ",";\n        position: absolute;\n        transform: translate(-168px, 15px);\n\n        ","\n\n        ","\n"]);return ur=function(){return e},e}var sr=K.a.div(ur(),ne,(function(e){return e.step>=e.number&&Object(Y.css)(lr(),V)}),ne,(function(e){return 1===e.number&&Object(Y.css)(ir())}),(function(e){return e.step>=e.number&&Object(Y.css)(cr(),V)}));function pr(){var e=H()(["\n        height: 62px;\n        font-size: 28px;\n        ::placeholder {\n            color: ",";\n        }\n    "]);return pr=function(){return e},e}function dr(){var e=H()(["\n        height: 48px;\n        color: orange;\n    "]);return dr=function(){return e},e}function fr(){var e=H()(["\n        height: 50px;\n    "]);return fr=function(){return e},e}function mr(){var e=H()(["\n        width: 100%; \n    "]);return mr=function(){return e},e}function gr(){var e=H()(["\n    height: 55px;\n    max-width: 100%;\n    display: inline-block;\n    border: none;\n    border-radius: 50px;\n    z-index: 1000;\n    background-color: ",";\n    color: ",";\n    padding: 0px 50px;\n    margin: 0px 5px 10px 0px;\n    min-width: 100px;\n    ","\n    ","\n    ","\n    "," \n"]);return gr=function(){return e},e}var hr=K.a.input(gr(),ae,te,(function(e){return e.inline&&Object(Y.css)(mr())}),(function(e){return e.withButton&&Object(Y.css)(fr())}),(function(e){return!1===e.valid&&Object(Y.css)(dr())}),(function(e){return e.big&&Object(Y.css)(pr(),oe)}));function br(){var e=H()(["\nbackground: none!important;\nborder: none;\npadding: 0!important;\ncolor: #069;\ntext-decoration: underline;\ncursor: pointer;\n"]);return br=function(){return e},e}var xr=K.a.button(br());function Er(){var e=H()(["\n    z-index: 100000;\n    position: relative;\n    width: 300px;\n    height: 300px;\n    border: 12px solid white;\n    border-radius: 75px;\n    background-color: green;\n    transform: rotate(-10deg) translateY(-300px);\n    background-color: #CCEAE3;\n    margin-left: 100px;\n    cursor: pointer;\n    text-align:center;\n    ","\n    transition: all 0.2s ease-in;\n        &:hover {\n            transform: rotate(-10deg) translateY(-300px) scale(1.03);\n        }\n"]);return Er=function(){return e},e}var vr=K.a.div(Er(),(function(e){return 1==e.sm&&"\n        min-width: 100px;\n        width: 100px;\n        height: 100px;\n        border-radius: 25px;\n        border: 7px solid white;\n        margin-left: 2.0vw;\n        &:first-of-type {\n            margin-left: 95px;\n        }\n    "})),yr=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(sr,e),a.a.createElement("div",{style:{display:"inline-block",transform:"translate(-200px, 50px)",position:"absolute",marginTop:10}},a.a.createElement(ln,null,e.label)))},Or=function(e,t){var n=e.withBigButton,r=e.submitHandler,o=e.handleChange,c=e.label,i=e.withButton,l=e.buttonText,u=e.cols,s=(e.direction,e.value),p=e.valid,d=e.loading,f=(e.sm,zn()(e,["withBigButton","submitHandler","handleChange","label","withButton","buttonText","cols","direction","value","valid","loading","sm"]));console.log("REF ",t);return a.a.createElement(a.a.Fragment,null,i&&a.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},a.a.createElement(ln,{big:!0,style:{marginLeft:10}},c),a.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.a.createElement(hr,hn()({value:s,ref:t,inline:!0},f,{valid:p,withButton:i,onChange:function(e){return o(e)},onFocus:function(){return console.log("focussed")}})),a.a.createElement(vn,{primary:!0,big:!0,width:"50px",text:l,handleClick:r,style:{width:100,display:"inline-block",transform:"translateX(-60px)"}}))),n&&a.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},a.a.createElement(ln,{big:!0,style:{marginRight:10,textAlign:"center"}},c),a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),r()}},a.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},a.a.createElement(hr,hn()({value:s,ref:t,inline:!0},f,{valid:p,value:s,withButton:i,onChange:function(e){return o(e)},onFocus:function(){return console.log("focussed")}})),a.a.createElement(vn,{width:"50px",primary:!0,big:!0,xl:!0,styled:!0,type:"submit",style:{width:100,display:"inline-block",transform:"translateX(-60px)"}},!1===d?a.a.createElement("div",{className:"script-font"}," ",l):a.a.createElement(xn.a,{type:"ThreeDots",color:"#FFFFFF",height:49,width:29,timeout:3e4}))))),!i&&!n&&a.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:u}},a.a.createElement(ln,{style:{marginLeft:10}},c),a.a.createElement(hr,hn()({value:s,ref:t},f,{withButton:i,onChange:function(e){return o(e)},onFocus:function(){return console.log("focussed")}}))))};Or.defaultProps={withButton:!1,withBigButton:!1,value:"",loading:!1};var wr=Object(r.forwardRef)(Or);function jr(){var e=H()(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n"]);return jr=function(){return e},e}function Sr(){var e=H()(["\n        border: 2px #79CBB7 solid;\n    "]);return Sr=function(){return e},e}function kr(){var e=H()(["\n    width: 550px;\n    height: 60px;\n    padding: 10px 40px;\n    border: 3px #F7F2F2 solid;\n    border-radius: 10px;\n    margin: 10px 0px 10px 0px;\n    cursor: pointer;\n    ","\n"]);return kr=function(){return e},e}function _r(){var e=H()(["\n     opacity: 0;\n     position: fixed;\n     width: 0;\n"]);return _r=function(){return e},e}var Pr=function(e){var t=e.option,n=e.checked,r=e.selected;zn()(e,["option","checked","selected"]);return a.a.createElement(Tr,{htmlFor:t.id,selected:r===t.id},a.a.createElement(Cr,{type:"radio",name:"delivery",id:t.id,value:t.id,onChange:function(){return e=t.id,console.log("touched",e),void n(e);var e}}),a.a.createElement(Dr,null,a.a.createElement("img",{src:t.shipping_image.url,style:{maxHeight:60,maxWidth:100,marginRight:20}}),a.a.createElement(ln,{sml:!0},t.shipping_carrier," - ",t.shipping_description,a.a.createElement("br",null),"Price:  Â£ ",t.shipping_cost.toFixed(2))))},Cr=K.a.input(_r()),Tr=K.a.label(kr(),(function(e){return e.selected&&Object(Y.css)(Sr())})),Dr=K.a.div(jr());function Ir(){var e=H()(["\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    background-color:",";\n    margin-right: 20px;\n    ","\n    ","\n    ","\n"]);return Ir=function(){return e},e}var Rr=function(e){var t=e.name,n=e.id,r=e.image,o=e.viewPort,c=Object(i.useHistory)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(vr,{onClick:function(){return function(e){c.push("/category/".concat(e))}(n)},sm:o<916},a.a.createElement("img",{src:r,style:{height:o<916?100:250,transform:o<916?"rotate(10deg) translate(-10px, 5px)":"rotate(10deg) translateY(20px);"}}),a.a.createElement("div",{style:{transform:"translateY(150px) rotate(10deg)",display:"flex",alignItems:"center"}},o>916&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Ar,{name:t}),a.a.createElement(an,null,t)))))},Ar=K.a.div(Ir(),J,(function(e){return"Soaps"===e.name&&"\n        background-color: ".concat(Q,"\n    ")}),(function(e){return"Shampoo"===e.name&&"\n        background-color: ".concat(V,"\n    ")}),(function(e){return e.viewPort<400&&"\n        transform: translateY(-100px);\n\n    "}));function Fr(){var e=H()(["\n    position: absolute;\n    padding: 0px;\n    margin: 0px;\n    left: 50%;\n    top: 50%;\n    margin-right: -50%;\n    transform: translate(-50%, -50%);\n    text-align: center;\n    animation: "," 3s infinite ease-out;\n"]);return Fr=function(){return e},e}function Nr(){var e=H()(["\n    position: absolute;\n    top: 0;\n    z-index: 10000;\n    min-height: 100vh;\n    min-width: 100vw;\n    background-color: white;\n"]);return Nr=function(){return e},e}function zr(){var e=H()(["\n    0% { opacity: 0.3 }\n    50% { opacity: 1; }\n    100% { opacity: 0.3; }\n"]);return zr=function(){return e},e}var Lr=Object(Y.keyframes)(zr()),Gr=K.a.div(Nr()),Ur=K.a.div(Fr(),Lr),Mr=function(){return a.a.createElement(Gr,null,a.a.createElement(Ur,null,a.a.createElement("img",{src:"/logo-big.svg",alt:"loading.."})))};function Br(){var e=H()(["\n    width: 10%;\n    max-height: 50px;\n    margin-left: 10px;\n    z-index: 1000;\n     "]);return Br=function(){return e},e}var qr=K.a.div(Br());function Hr(){var e=H()(["\n left: 0px;\n"]);return Hr=function(){return e},e}function Yr(){var e=H()(["\npadding: 150px 0px 150px 10px;\nwidth: 100vw;\nposition: absolute;\ntop: -10px;\nbottom: 0;\nleft: -120vw;\nbackground-color: rgba(250,250,250, 1);\nz-index: 1900;\ntransition: all 0.2s ease-in;\nbox-shadow: 20px 10px 8px rgba(0,0,0, 0.2);\nfont-size: 24px;\n","\n\n& ul {\n    list-style: none;\n    font-size: 25px;\n    margin-left: 40px;\n}\n\n& ul > li {\n    color: ","\n    font-size: 1.5rem;\n    margin-top: 10px;\n}\n"]);return Yr=function(){return e},e}var Kr=function(){var e=Object(c.useSelector)((function(e){return e.ui})).showMenu;return a.a.createElement(Vr,{show:e},a.a.createElement(qr,null,a.a.createElement("img",{src:"/logogray.png",style:{position:"absolute",width:60,marginLeft:25,top:25}})),a.a.createElement("ul",null,a.a.createElement("li",null,"Creams"),a.a.createElement("li",null,"Soaps"),a.a.createElement("li",null,"Shampoos")))},Vr=K.a.div(Yr(),(function(e){return!0===e.show&&Object(Y.css)(Hr())}),X);function Wr(){var e=H()(["\n   min-width: 750px;\n   margin-top: 10px;\n   margin-right: auto;\n   margin-left: auto;\n   text-align: center;\n   transform: translateX(80px);\n"]);return Wr=function(){return e},e}var Jr=[{no:1,label:"Account"},{no:2,label:"Shipping"},{no:3,label:"Payment"},{no:4,label:"Success"}],Xr=function(){var e=Object(c.useSelector)((function(e){return e.user})).user,t=Object(r.useReducer)(pn,{step:1,authenticated:!1,guest:null,loading:!1,errorMsg:"",postage:{},fields:{register:!1,identifier:"",password:"",password_confirmation:"",username:""}}),n=B()(t,2),o=n[0],i=n[1],l=o.step,u=o.authenticated,s=o.guest,p=(o.postage,o.loading),d=o.fields,f=d.email,m=d.password,g=d.register,h=d.username,b=d.password_confirmation,x=Object(c.useDispatch)();Object(r.useEffect)((function(){var e,t=ht.getUserInfo();if(e=t,!at.a.isEmpty(e)){i({type:"LOGGED_IN"});var n="?_where[user._id]=".concat(t._id);E(n)}console.log("USER SESSION ",t)}),[,u]),Object(r.useEffect)((function(){console.log("CART DATA IS ",o,e)}),[o]),Object(r.useEffect)((function(){window.scrollTo(0,0)}),[l,s,u,p]);var E=function(){var e=U()(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yt("/customers".concat(t));case 3:n=e.sent,console.log("CUSTOMER INFO ",n[0]),x({type:"SET_USER_SESSION",payload:n[0]}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=U()(L.a.mark((function e(t){var n,r,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i({type:"LOGGING_IN"}),!0!==g){e.next=20;break}if(m===b){e.next=6;break}return console.log("PASSWORDS MUST MATCH "),e.abrupt("return");case 6:return console.log("REGISTERING NEW USER"),n={email:f,password:m,username:h},e.prev=8,e.next=11,Ot.register(n,x);case 11:i({type:"LOGGED_IN"}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(8),console.log(e.t0),i({type:"LOGIN_FAIL",payload:e.t0});case 18:e.next=34;break;case 20:return console.log("LOGGING IN USER with ",f,m),r={identifier:f,password:m,username:h},e.prev=22,e.next=25,Ot.login(r,x);case 25:400===(a=e.sent).status?i({type:"LOGIN_FAIL",payload:a.message}):i({type:"LOGGED_IN"}),console.log("LOGIN RESPONSE ",a),e.next=34;break;case 30:e.prev=30,e.t1=e.catch(22),console.log("LOGIN ERROR ",e.t1),i({type:"LOGIN_FAIL",payload:e.t1});case 34:case"end":return e.stop()}}),e,null,[[8,14],[22,30]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Qr,null,Jr.map((function(e){return a.a.createElement(yr,{label:e.label,step:l,number:e.no,key:e.no})}))),1===l&&!u&&null===s&&a.a.createElement(a.a.Fragment,null,a.a.createElement(aa,{handleChange:function(e){var t=e.target,n=t.name,r=t.value,a=t.type,o=t.checked;if("checkbox"===a)return i({type:"CLEAR_FIELDS"}),void i({type:"UPDATE_FIELD",fieldName:n,fieldValue:o});i({type:"UPDATE_FIELD",fieldName:n,fieldValue:r})},handleLogin:v,dispatch:i,data:o.fields,loading:o.loading?1:void 0})),(1===l&&u||1===l&&!0===s)&&a.a.createElement(a.a.Fragment,null,a.a.createElement(ia,{user:e,cartState:o,buttonClick:function(e){i({type:e})},cartDispatch:i})),2===l&&a.a.createElement(qe,null,a.a.createElement(He,null,a.a.createElement(cn,null,"Choose a Shipping Option"),a.a.createElement(We,{mb:"10px"})),a.a.createElement(Ye,null,a.a.createElement(la,{dispatch:x,cartDispatch:i}))),3===l&&a.a.createElement(a.a.Fragment,null,a.a.createElement(da,{cartDispatch:i})),4===l&&a.a.createElement(a.a.Fragment,null,a.a.createElement($r,{cartState:o,dispatch:x})))},Qr=K.a.div(Wr()),$r=function(e){var t=e.cartState;return localStorage.setItem("soap-cart",JSON.stringify([])),a.a.createElement(qe,null,a.a.createElement(He,null,a.a.createElement(cn,null,"Congratulations!!"),a.a.createElement(We,null)),a.a.createElement(Ye,null,a.a.createElement(ln,null,"Thankyou for shopping with the Chunky Soap Company"),a.a.createElement(ln,null,"Your order has been successfully processed & a confirmation email has been sent to your registered email address")),a.a.createElement(Ke,null,a.a.createElement(Ve,null,t.authenticated&&a.a.createElement(vn,{big:!0,secondary:!0,text:"My Account"}),a.a.createElement(vn,{big:!0,text:"Logout"}))))},Zr=n(19),ea=function(e){var t=Object(r.useState)(!1),n=B()(t,2),a=n[0],o=n[1];return Object(r.useEffect)((function(){var e=null!==ht.getToken();console.log("AUTH TOKEN HERE ",ht.getToken()),o(e)}),[]),{isAuthenticated:a}},ta=function(e){var t=e.products,n=Object(r.useState)(!1),a=B()(n,2),o=a[0],c=a[1],i=Object(r.useState)(null),l=B()(i,2),u=l[0],s=l[1],p=function(){c(!o)};return{isShowing:o,toggle:p,handleClick:function(e){console.log("event",e);var n=t.products.filter((function(t){return t.id===e}));s(n[0]),console.log("SELECTED",u),p()},selectedProduct:u}},na=function(e){var t=e.dispatch,n=e.loginState.fields,r=n.email,a=n.password,o=n.register,c=n.username,i=n.password_confirmation;return console.log("useStrapiLogin ",o),{handleStrapiLogin:function(){var e=U()(L.a.mark((function e(){var n,l;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:"LOGGING_IN"}),!0!==o){e.next=12;break}if(a===i){e.next=5;break}return console.log("PASSWORDS MUST MATCH "),e.abrupt("return");case 5:return console.log("REGISTERING NEW USER"),n={email:r,password:a,username:c},e.next=9,Ot.register(n,t);case 9:t({type:"LOGGED_IN"}),e.next=24;break;case 12:return console.log("LOGGING IN USER with ",r,a),l={identifier:r,password:a,username:c},e.prev=14,e.next=17,Ot.login(l,t);case 17:t({type:"LOGGED_IN"}),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(14),console.log(e.t0),t({type:"LOGIN_FAIL",payload:e.t0});case 24:case"end":return e.stop()}}),e,null,[[14,20]])})));return function(){return e.apply(this,arguments)}}(),isLoggedIn:!1,errorMsg:""}},ra=function(){var e=Object(r.useState)(null),t=B()(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){var e=function(){return a(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(r.useEffect)((function(){a(window.innerWidth)}),[]),{viewport:n}},aa=function(e){var t=Object(r.useRef)([]),n=Zr.views,o=Object(r.useState)(null),c=B()(o,2),i=c[0],l=c[1];Object(r.useEffect)((function(){var n=e.data.register?"register":"login";l(n),console.log("MYREFS",t)}),[,e.data.register,t]);return a.a.createElement(qe,null,a.a.createElement(an,null,"Sign in to Continue"),a.a.createElement("form",{onSubmit:function(t){return e.handleLogin(t)},style:{marginTop:30,display:"flex",width:"100%",flexDirection:"column"}},i&&n[i].map((function(n,r){return a.a.createElement(wr,{placeholder:n.placeholder,label:n.label,type:n.type,name:n.name,handleChange:e.handleChange,key:r,direction:n.direction,required:n.required,ref:function(e){return t.current[r]=e}})})),a.a.createElement("br",null),a.a.createElement("div",null,"I Don't have an account create one ",a.a.createElement("input",{type:"checkbox",name:"register",checked:e.data.register,onChange:e.handleChange})),a.a.createElement(Ve,null,a.a.createElement(vn,{primary:!0,fixed:!0,type:"submit",text:e.data.register?"Register":"Sign In",med:!0,loading:!!e.loading||void 0},a.a.createElement(lt.User,null)),a.a.createElement("br",null),"standalone"!==e.type&&a.a.createElement(vn,{fixed:!0,type:"button",text:"Guest Checkout",loading:"false",secondary:!0,med:!0,handleClick:function(){return e.dispatch({type:"GUEST_CHECKOUT"})}},a.a.createElement(lt.ArrowRight,null)))))};function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ia=function(e){var t=e.user,n=e.cartState,o=e.cartDispatch,i=e.buttonClick,l=Zr.views,s=Object(r.useState)(!1),p=B()(s,2),d=p[0],f=p[1],m=Object(r.useState)({}),g=B()(m,2),h=g[0],b=g[1],x=Object(r.useState)(!1),E=B()(x,2),v=E[0],y=E[1],O=t.customer_title,w=t.customer_firstname,j=t.customer_lastname,S=t.customer_address1,k=t.customer_address2,_=t.customer_town,P=t.customer_postcode,C=Object(c.useDispatch)(),T=Object(Lt.useHistory)();console.log("USER_ID",t);var D=function(e){var t=e.target,n=t.name,r=t.value;b((function(e){return ca(ca({},e),{},u()({},n,r))}))};Object(r.useEffect)((function(){console.log("USER DETAILS",t.customer_firstname),""==t._id&&""==t.customer_firstname&&f(!0),b(t)}),[,t]);var I=function(){var e=U()(L.a.mark((function e(r){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),r.preventDefault(),!n.authenticated){e.next=11;break}return console.log("SUBMITTING FORM"),e.next=6,yt("/customers/".concat(t._id),"PUT",h);case 6:a=e.sent,console.log("NEW ADDRESS ",a),C({type:"SET_USER_SESSION",payload:a}),e.next=13;break;case 11:C({type:"SET_USER_SESSION",payload:h}),console.log("ADDRESS ",h);case 13:f(!1),y(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,!1===d&&t.customer_firstname&&a.a.createElement(qe,null,a.a.createElement(He,null,a.a.createElement(cn,null,"Billing Address"),a.a.createElement(We,{mb:"10px"})),a.a.createElement(Ye,null,t.customer_firstname?a.a.createElement(a.a.Fragment,null,a.a.createElement(an,null,O," ",w," ",j),a.a.createElement(an,null,S),a.a.createElement(an,null,k),a.a.createElement(an,null,_),a.a.createElement(an,null,P)):a.a.createElement(an,null,"Please provide a billing address")),a.a.createElement(Ke,null,a.a.createElement(Ve,null,a.a.createElement(vn,{big:!0,secondary:!0,text:"Back",handleClick:function(){T.goBack()}},a.a.createElement(lt.ArrowLeft,null)),a.a.createElement(vn,{big:!0,secondary:!0,text:"change",handleClick:function(){return f(!0)}},a.a.createElement(lt.Edit3,null)),a.a.createElement(vn,{big:!0,text:"confirm",handleClick:function(){return i("NEXT_STEP")}},a.a.createElement(lt.ArrowRight,null))))),(!0===d||!t.customer_firstname)&&a.a.createElement(qe,null,a.a.createElement(He,null,a.a.createElement(cn,null,"Please provide a billing address"),a.a.createElement(We,null)),a.a.createElement(Ye,null,a.a.createElement("form",{onSubmit:function(e){return I(e)}},a.a.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"flex-start"}},l.addressForm.map((function(e,t){return a.a.createElement(wr,{placeholder:e.placeholder,label:e.label,name:e.name,key:t,handleChange:function(e){return D(e)},required:!0,cols:e.width,value:h[e.value]})})),!n.authenticated&&a.a.createElement(wr,{placeholder:"example@gmail.com",label:"Email Address",name:"email",handleChange:function(e){return D(e)},required:!0,cols:"100%"})),a.a.createElement(Ve,null,n.guest?a.a.createElement(vn,{big:!0,secondary:!0,text:"Back",handleClick:function(){return o({type:"STANDARD_CHECKOUT"})}},a.a.createElement(lt.Edit3,null)):a.a.createElement(vn,{big:!0,secondary:!0,text:"Cancel",handleClick:function(){return f(!1)}},a.a.createElement(lt.Edit3,null)),a.a.createElement(vn,{big:!0,text:"Save",type:"submit",loading:v?1:void 0}))))))},la=function(e){var t=e.dispatch,n=e.cartDispatch,o=Object(r.useState)([]),i=B()(o,2),l=i[0],u=i[1],s=Object(r.useState)(!0),p=B()(s,2),d=(p[0],p[1]),f=Object(r.useState)(),m=B()(f,2),g=m[0],h=m[1],b=Object(c.useSelector)((function(e){return e.basket})).basket;Object(r.useEffect)((function(){x()}),[]),Object(r.useEffect)((function(){var e=l.find((function(e){return e._id===g}));console.log("selected shipping ",e);var r=0;if(e){var a=e.shipping_cost,o=e.id;it(b.products)>25&&a<4?(console.log("CART_TOTAL ",it(b.products)),r=0):r=a,t({type:"SET_POSTAGE",payload:{shipping_cost:r,id:o}}),n({type:"SET_POSTAGE",payload:e}),console.log("COST ",r)}}),[g]);var x=function(){var e=U()(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yt("/shippings","GET",void 0,"public");case 3:t=e.sent,console.log("SHIPPING ",t),u(t),it(b.products)>25?h(t[2]._id):h(t[0]._id),d(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),d(!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),E=function(e){console.log("CHECKED ",e),h(e)};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},l.length>0?l.map((function(e,t){return a.a.createElement(Pr,{active:g,selected:g,checked:E,option:e,key:t})})):a.a.createElement("div",null,"Loading shipping options...")),a.a.createElement(Ve,null,a.a.createElement(vn,{big:!0,secondary:!0,text:"Back",handleClick:function(){return n({type:"PREV_STEP"})}},a.a.createElement(lt.ArrowLeft,null)),a.a.createElement(vn,{big:!0,text:"Continue",handleClick:function(){return n({type:"NEXT_STEP"})}})))},ua=n(15),sa=n(27);function pa(){var e=H()(["\n    width: 100%;\n    padding: 15px;\n    border-radius: 15px;\n    ","\n    border: 2px "," solid;\n    ","\n"]);return pa=function(){return e},e}var da=function(e){var t,n=e.cartDispatch,o=Object(c.useSelector)((function(e){return e.basket})).basket,i=Object(c.useSelector)((function(e){return e.user})).user,l=Object(r.useState)(!1),s=B()(l,2),p=s[0],d=s[1],f=Object(r.useState)(""),m=B()(f,2),g=m[0],h=m[1],b=Object(r.useState)(0),x=B()(b,2),E=x[0],v=x[1],y=Object(r.useState)(null),O=B()(y,2),w=O[0],j=O[1],S=Object(ua.useElements)(),k=Object(ua.useStripe)(),_=i.customer_title,P=i.customer_firstname,C=i.customer_lastname,T=i.customer_email,D=i.customer_address1,I=(i.customer_address2,i.customer_postcode),R=i.customer_town,A=o.postage,F=o.products,N=o.carrierId;Object(r.useEffect)((function(){console.log("PAYMENT BASKET",o,"USER",i);var e=it(F,A);v(e.toFixed(2))}),[o]),Object(r.useEffect)((function(){E>0&&z()}),[E]);var z=function(){var e=U()(L.a.mark((function e(){var t,n,r,a,c=arguments;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]&&c[0],!w){e.next=3;break}return e.abrupt("return");case 3:return n={order_customer:i._id,order_total:E,order_date:new Date,order_dispatched:!1,order_confirmed:t,order_items:o,order_postage:A,order_carrier:N},e.prev=4,e.next=7,yt("/orders","POST",n);case 7:r=e.sent,a=r.id,j(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("ERROR CREATING ORDER ",e.t0);case 15:console.log("ORDER OBJECT ",n);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),G={style:{base:{fontSize:"24px",color:V,"::placeholder":{color:te}},invalid:{},complete:{}},hidePostalCode:!0},M=function(){var e=U()(L.a.mark((function e(t){var r,a,c,l,u,s,f,m,g,b,x,v,y,O,j,A;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("Submitting ",t),!0!==p){e.next=4;break}return e.abrupt("return");case 4:return d(!0),r={name:"".concat(_," ").concat(P," ").concat(C),email:T,address:{city:R,line1:D,state:R,postal_code:I}},(a=new Headers).append("Content-Type","application/json"),c={method:"GET",headers:a,redirect:"follow"},e.next=11,fetch("/api/payment_intents/?amount=".concat((100*E).toFixed(0)),c);case 11:return l=e.sent,e.next=14,l.text();case 14:return u=e.sent,console.log("STRIPE ENDPOINT ",u),s=S.getElement(ua.CardElement),e.prev=17,e.next=20,k.createPaymentMethod({type:"card",card:s,billing_details:r});case 20:if(!(f=e.sent).hasOwnProperty("error")){e.next=27;break}return m=f.error||"",g=m.message,console.log("PAYMENT METHOD REQUEST ",g),d(!1),g&&h(g),e.abrupt("return");case 27:return e.next=29,k.confirmCardPayment(u,{payment_method:f.paymentMethod.id});case 29:return b=e.sent,console.log(b),x={order_confirmed:!0},e.next=34,yt("/orders/".concat(w),"PUT",x);case 34:return console.log("Sending confirmation email for.",i),v=new sa.OrderFactory,y=v.create(i,o,E,w,1),console.log("CONFIRMATION EMAIL: ",y),(O=new Headers).append("x-api-key","1ab2c3d4e5f61ab2c3d4e5f6"),O.append("Content-Type","application/json"),c={method:"POST",headers:O,body:JSON.stringify(y),redirect:"follow"},e.next=44,fetch("https://wx-microservice-email.herokuapp.com/api/v1/order-confirmation",c);case 44:return j=e.sent,e.next=47,j.text();case 47:A=e.sent,console.log("Email send status ",A),n({type:"CHECKOUT_SUCCESS"}),d(!1),e.next=58;break;case 53:return e.prev=53,e.t0=e.catch(17),console.log("PAYMENT REQ ERR ",e.t0),d(!1),e.abrupt("return");case 58:case"end":return e.stop()}}),e,null,[[17,53]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(qe,null,a.a.createElement("form",{onSubmit:function(e){return M(e)}},a.a.createElement(He,null,a.a.createElement(cn,null,"Secure Payment")),a.a.createElement(Ye,null,a.a.createElement(fa,null,a.a.createElement(ua.CardElement,{withUpdate:function(e){return console.log(e.value)},options:G})),a.a.createElement(ln,{danger:!0},g&&g),a.a.createElement("img",{src:"./stripe-payment.png",style:{width:"60%"}})),a.a.createElement(Ke,null,a.a.createElement(Ve,null,a.a.createElement(vn,(t={secondary:!0,big:!0,type:"button"},u()(t,"big",!0),u()(t,"text","Back"),u()(t,"handleClick",(function(){return n({type:"PREV_STEP"})})),t)),a.a.createElement(vn,{loading:p,type:"submit",big:!0,text:"Pay Â£"+E})))))},fa=K.a.div(pa(),"",V,""),ma=function(e){return a.a.createElement(Ge,{light:!0,narrow:!e.sm,mobile:e.sm,height:e.height},a.a.createElement(Ue,{width:850,mt:40},a.a.createElement(wr,{big:!e.sm,handleChange:e.handleChange,submitHandler:e.handleSubmit,withBigButton:!0,loading:e.loading,value:e.searchValue,valid:e.valid,buttonText:e.btnText,label:e.label,type:"text",placeholder:e.placeholder,withButton:e.sm})))};ma.defaultProps={btnText:"Button Text",height:200,placeholder:"pass placeholder prop",handleChange:function(){},submitHandler:function(){}};var ga=ma,ha=n(28),ba=n.n(ha);function xa(){var e=H()(["\n    :after, :before { \n    width: 15px;\n    height: 3px;\n    background-color: white; \n    position: relative;\n    left: 8px;\n    top: 13px;\n   }\n  &::after{\n    content: '';\n    transform: rotate(-45deg);\n    position: absolute;\n  }\n  &::before {\n    content: '';\n    transform: rotate(45deg);\n    position: absolute;\n  }\n"]);return xa=function(){return e},e}function Ea(){var e=H()(["\n  width: 30px;\n  height: 30px;\n  padding: 5px;\n  background-color: gray;\n  color: white;\n  position: absolute;\n  border-radius: 50%;\n  right: 20px;\n  top: 20px;\n  border: none;\n  z-index: 1000;\n  cursor: pointer;\n  transition: all 0.3s ease-in;\n  &:hover {\n    background-color: black;\n  }\n"]);return Ea=function(){return e},e}function va(){var e=H()(["\n  z-index: 100;\n  background: white;\n  position: relative;\n  margin: 50vh auto;\n  border-radius: 3px;\n  max-width: 1000px;\n  min-height: 400px;\n  padding: 3.0rem;\n  border-radius: 25px;\n  transform: translateY(-50%);\n  overflow: hidden;\n"]);return va=function(){return e},e}function ya(){var e=H()(["\n     position: fixed;\n        top: 0;\n    left: 0;\n    z-index: 1050;\n    width: 100%;\n    height: 100%;\n    overflow-x: hidden;\n    overflow-y: auto;\n    outline: 0;\n"]);return ya=function(){return e},e}function Oa(){var e=H()(["\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 1040;\n    width: 100vw;\n    height: 100vh;\n    background-color: #000;\n    opacity: 0.5;\n"]);return Oa=function(){return e},e}var wa=function(e){var t=e.isShowing,n=e.hide,r=zn()(e,["isShowing","hide"]);return t?ba.a.createPortal(a.a.createElement(a.a.Fragment,null,a.a.createElement(ja,null),a.a.createElement(Sa,{className:"modal-wrapper","aria-modal":!0,"aria-hidden":!0,tabIndex:-1,role:"dialog"},a.a.createElement(ka,{className:"modal"},a.a.createElement(_a,{onClick:n},a.a.createElement(Pa,null)),a.a.createElement("div",{className:"modal-header"}),r.children))),document.body):null},ja=K.a.div(Oa()),Sa=K.a.div(ya()),ka=K.a.div(va()),_a=K.a.button(Ea()),Pa=K.a.div(xa());function Ca(){var e=H()(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: flex-start;\n    max-width: 600px;\n"]);return Ca=function(){return e},e}function Ta(){var e=H()(["\n    display: flex;\n    flex-direction: column;\n    min-height: 220px;\n    max-height: 600px;>\n    max-width: 550px;\n    margin: 0px 25px 0px 40px;\n    margin-top: 50px;\n    z-index: 2;\n"]);return Ta=function(){return e},e}function Da(){var e=H()(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    min-height: 400px;\n"]);return Da=function(){return e},e}var Ia=function(e){var t=Object(i.useHistory)(),n=Object(c.useSelector)((function(e){return e.basket})).basket;Object(r.useEffect)((function(){console.log("PREVEW BASKET",n.products)}),[n]);var o,l,u=e.product,s=u.id,p=u.product_picture_1,d=u.product_name,f=u.product_short_description,m=u.product_long_description,g=u.product_price,h=u.product_discount;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ra,null,a.a.createElement("img",{src:"/drips-dark.svg",style:{position:"absolute",width:500,top:0,right:0,opacity:.8,zIndex:1}}),a.a.createElement(Un,{style:{marginTop:30}},p&&a.a.createElement("img",{src:p.url})),a.a.createElement(Aa,null,a.a.createElement(rn,{style:{flex:1}},d),a.a.createElement(on,{style:{flex:1}},f),a.a.createElement(ln,{style:{flex:4}},(l=100,(o=m).length>l?o.substring(0,l-3)+"...  ":o+" "),a.a.createElement(xr,{onClick:function(){return e.viewProduct(s)}}," More info")),a.a.createElement(Fa,null,h>0&&a.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"baseline",opacity:.4}},a.a.createElement(on,null,"Original Price. "),a.a.createElement(rn,null,"Â£",g.toFixed(2))),a.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"baseline"}},a.a.createElement(on,null,h>0?"Sale Price.":"Price."),a.a.createElement(rn,null,"Â£",(g-g*h/100).toFixed(2)))),a.a.createElement(Ve,null,a.a.createElement(_n,{product:e.product,function:"add"}),n.products.length>0&&a.a.createElement(vn,{tertiary:!0,fixed:!0,text:"View Basket",med:!0,handleClick:function(){return t.push("/basket")}},a.a.createElement(lt.Layers,null)),a.a.createElement(vn,{text:"More info",med:!0,handleClick:function(){return e.viewProduct(s)}},a.a.createElement(lt.Layers,null))))))},Ra=K.a.div(Da()),Aa=K.a.div(Ta()),Fa=K.a.div(Ca());function Na(){var e=H()(["\n    padding: 5px;\n    color: white;\n    font-size: 1.5rem;\n"]);return Na=function(){return e},e}function za(){var e=H()(["\n    min-width: 200px\n    padding: 50px;\n    list-style: none;\n"]);return za=function(){return e},e}function La(){var e=H()(["\n    display: flex;\n    position: absolute\n    max-width: 100vw\n    padding-top: 150px;\n    bottom: -500;\n    flex-flow: row wrap;\n"]);return La=function(){return e},e}var Ga=K.a.div(La()),Ua=K.a.ul(za()),Ma=K.a.li(Na()),Ba=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ge,{height:500},a.a.createElement("img",{src:"/drips.png",alt:"drips",style:{float:"right",width:"500px",transform:"translate(50px, -50px)"}}),a.a.createElement(Ga,null,a.a.createElement(Ua,null,a.a.createElement(Ma,null,"Item 1"),a.a.createElement(Ma,null,"Item 1")),a.a.createElement(Ua,null,a.a.createElement(Ma,null,"list 2"),a.a.createElement(Ma,null,"Item 1")))))},qa=function(e){var t=Object(Lt.useHistory)().location.pathname,n=ra().viewport;return console.log("Location",t),a.a.createElement(Ge,{dark:!0,height:e.viewPort<916?100:180},ie.map((function(e,t){return a.a.createElement(or,hn()({},e,{key:t}))})),a.a.createElement("img",{src:"/drips.png",alt:"drips",style:{float:"right",width:"500px",transform:"translate(50px, -70px)",zIndex:"5"}}),a.a.createElement(Le,null,a.a.createElement(tn,{style:{maxWidth:550,transform:"translateY(-50px)"}},"We offer FREE delivery on all orders over Â£25")),a.a.createElement("img",{src:"/oversholder.webp",alt:"girl-pic",style:{position:"absolute",top:50,left:n<751?0:560,maxHeight:320,zIndex:1450}}))},Ha=n(29),Ya=n.n(Ha);function Ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wa=function(e){var t=Object(r.useState)({}),n=B()(t,2),o=n[0],l=n[1],s=Object(r.useState)(!1),p=B()(s,2),d=p[0],f=p[1],m=Object(c.useDispatch)(),g=Object(i.useHistory)();console.log("PROD SEARCH LOC :",g);var h=function(e){var t=new Ya.a(e,{keys:["product_name","product_long_description","product_short_description"],includeScore:!0}).search(o.term).filter((function(e){return e.score<.6})).map((function(e){return e.item}));return console.log("FILTERED: ",t),t};Object(r.useEffect)((function(){console.log("Search for: ",o)}),[o]);var b=function(){var e=U()(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.term){e.next=2;break}return e.abrupt("return");case 2:return f(!0),console.log("pulling data from server ",o),e.next=6,yt("/products","GET",void 0,"public");case 6:t=e.sent,n=h(t),console.log("filtered results: ",n),m({type:"UPDATE_SEARCH",payload:n}),l({}),f(!1),g.push("/search-results");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(ga,{sm:e.sm,height:180,cols:"100%",valid:!1,loading:d,placeholder:"product name",btnText:"Search",searchValue:o.term,label:"Search our catalogue for your favorite products",handleChange:function(e){l(Va(Va({},o),{},u()({},"term",e.target.value)))},handleSubmit:function(){return b()}})},Ja=function(e){var t=Object(c.useSelector)((function(e){return e.categories||[]})).categories;return Object(r.useEffect)((function(){console.log("CAT ROW: ",t)}),[t]),a.a.createElement(a.a.Fragment,null,e.viewPort>916?a.a.createElement(a.a.Fragment,null,a.a.createElement(Ge,{height:200},a.a.createElement(en,{light:!0},"Categories"),a.a.createElement("img",{src:"/drips.png",alt:"drips",style:{float:"right",width:"500px",transform:"translate(50px, -70px)",zIndex:"5"}})),a.a.createElement(Be,{mb:"-100px"},t&&t.map((function(e,t){return a.a.createElement(Rr,{key:t,name:e.category_name,image:e.category_image.formats.thumbnail.url,id:e._id})})))):a.a.createElement(Be,{sm:!0,mb:"-100px"},t&&t.map((function(t,n){return a.a.createElement(Rr,{viewPort:e.viewPort,key:n,name:t.category_name,image:t.category_image.formats.thumbnail.url,id:t._id})}))))};function Xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Qa=function(e){var t=e.component,n=zn()(e,["component"]),r=ea().isAuthenticated;return console.log("PROTECTED ",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n)),a.a.createElement(i.Route,hn()({exact:!0},n,{render:function(e){return r?a.a.createElement(i.Redirect,{to:{pathname:"/authenticate",state:{from:e.location}}}):a.a.createElement(t,e)}}))};function $a(){var e=H()(["\n    margin-top: 50px;\n    margin-left: auto;\n"]);return $a=function(){return e},e}function Za(){var e=H()(["\n        margin-bottom: ",";\n    "]);return Za=function(){return e},e}function eo(){var e=H()(["\n    width: 100%;\n    height: 1px;\n    background-color: ",";\n    ","\n"]);return eo=function(){return e},e}function to(){var e=H()(["\n        padding: 10px 10%;\n    "]);return to=function(){return e},e}function no(){var e=H()(["\n    margin: 0px 20px;\n    padding: 20px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: flex-end;\n    align-items: center;\n    align-content: center;\n    flex-gap: 10px; \n    ","\n"]);return no=function(){return e},e}var ro=K.a.div(no(),(function(e){return e.narrow&&Object(Y.css)(to())})),ao=K.a.div(eo(),re,(function(e){return e.mb&&Object(Y.css)(Za(),e.mb)})),oo=K.a.div($a());function co(){var e=H()(["\n            display: none;\n        "]);return co=function(){return e},e}function io(){var e=H()(["\n            visibility: hidden;\n        "]);return io=function(){return e},e}function lo(){var e=H()(["\n    width: 80%;\n    margin: 0px 0px 0px 10px;\n    justify-content: flex-end;\n    "]);return lo=function(){return e},e}function uo(){var e=H()(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    list-style: none;\n    width: 100%;\n    z-index: 1900;\n    ","\n    li.hamburger {\n        ","\n    }\n    li.temp {\n        ","\n    }\n    li > a {\n        text-decoration: none;\n        color: ",";\n    }\n\n    .active {\n        color: red;\n    }\n"]);return uo=function(){return e},e}function so(){var e=H()([" \n        margin-top: -100px;\n    "]);return so=function(){return e},e}function po(){var e=H()([" \n        background-color: ",";\n    "]);return po=function(){return e},e}function fo(){var e=H()(["\n    width: 50%;\n    margin: 0px 0px 0px 10px;\n    "]);return fo=function(){return e},e}function mo(){var e=H()(["\n    width: 80%;\n    max-width: 100vw;\n    margin: 0px auto;\n    height: 90px;\n    background-color: white;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    z-index: 9000;\n    overflow: hidden;\n    ","\n    ","\n    ","\n    \n    \n"]);return mo=function(){return e},e}var go=K.a.div(mo(),(function(e){return e.viewPort<961&&Object(Y.css)(fo())}),(function(e){return/product|checkout/.test(e.location)&&Object(Y.css)(po(),V)}),(function(e){return/checkout/.test(e.location)&&Object(Y.css)(so())})),ho=K.a.ul(uo(),(function(e){return e.viewPort<961&&Object(Y.css)(lo())}),(function(e){return e.viewPort>961&&Object(Y.css)(io())}),(function(e){return e.viewPort<961&&Object(Y.css)(co())}),$),bo=go,xo=n(30),Eo=n.n(xo);function vo(){var e=H()(["\n    position: relative;\n    background-color: ",";\n    color: white;\n    height: 17px;\n    width: 17px;\n    border: 3px solid white;\n    border-radius: 50%;\n    text-align: center;\n    font-size: 14px;\n    font-weight: 600;\n    line-height: 17px;\n    transform: translate(-10px, -10px);\n"]);return vo=function(){return e},e}function yo(){var e=H()(["\n  width: 20px;\n  height: 20px;\n  background-color: ",";\n  margin-left: 53%;\n  margin-top: -5px;\n  transform: rotate(45deg);\n"]);return yo=function(){return e},e}function Oo(){var e=H()(["\n  width: 700px;\n  height: 200px;\n  background-color: ",";\n  z-index: 13000;\n  position: absolute;\n  top: 60px;\n  border-radius: 20px;\n  box-shadow: 4px 4px 12px rgba(0, 0, 0, 0.3);\n"]);return Oo=function(){return e},e}var wo=function(e){var t=Object(c.useDispatch)(),n=Object(Lt.useHistory)(),o=ea().isAuthenticated,i=ra().viewport;console.log("".concat("/home/webnostix/Codebase/ChunkySoap2021/client/build/public","/logo.jpg"));var l=Object(r.useState)(!1),u=B()(l,2),s=(u[0],u[1]);Object(r.useEffect)((function(){s(o),console.log("AUTHENTICATED",o)}),[o]),Object(r.useEffect)((function(){console.log("VIEWPORT ",i)}),[i]),Object(r.useEffect)((function(){if(process.browser){var e=localStorage.getItem("soap-cart");e&&t({type:"SET_INITIAL_BASKET",payload:JSON.parse(e)})}U()(L.a.mark((function e(){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f||!f.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,yt("/categories","GET",void 0,"public");case 4:n=e.sent,t({type:"FETCH_CATEGORIES",payload:n}),console.log("NAV CATEGORIES ",n);case 7:case"end":return e.stop()}}),e)})))()}),[]);var p=Object(c.useSelector)((function(e){return e.basket})).basket,d=Object(c.useSelector)((function(e){return e.ui})).showMenu,f=Object(c.useSelector)((function(e){return e.categories||[]})).categories,m=Object(c.useSelector)((function(e){return e.user})).user,g=Object(r.useState)(0),h=B()(g,2),b=h[0];h[1];console.log("CATS ",p,m);var x=Object(r.useState)(0),E=B()(x,2),v=E[0],y=E[1];return Object(r.useEffect)((function(){var e=p.products;if(console.log("PRODUCTS IN CART ",e),e.length>0){var t=e.map((function(e){return e.total_price})).reduce((function(e,t){return e+t}));y(t.toFixed(2)),console.log("TOTAL",t)}else y(0);console.log("basket context ",p.products)}),[p]),a.a.createElement(Le,{nav:!0,location:n.location.pathname,key:b},a.a.createElement(bo,{location:n&&n.location.pathname},a.a.createElement(Fn,{to:"/"},a.a.createElement(qr,null,a.a.createElement("img",{src:"/logogray.png",style:{width:60,margin:-10,marginRight:40}}))),a.a.createElement(ho,{viewPort:i},a.a.createElement("li",{className:"temp"},a.a.createElement(Fn,{to:"#"},"About")),a.a.createElement("li",{className:"temp"},a.a.createElement(Fn,{to:"/contact"},"Contact")),a.a.createElement("li",{className:"temp"},a.a.createElement(Fn,{to:"/category",withMenu:!0,menuData:f,menuTitle:"Categories",display:!0},"Categories")),a.a.createElement("li",{className:"temp"},!1===o?a.a.createElement(Fn,{to:"/authenticate"},"Sign In"):a.a.createElement("button",{style:{backgroundColor:"rgba(250, 250, 250, 0.0)",border:"none",fontWeight:"bold"},onClick:function(){n.push("/authenticate"),Ot.logout(t)}},"Sign Out")),a.a.createElement("li",{className:"temp"},a.a.createElement(vn,{primary:!0,sml:!0,text:"New Account",loading:"false",handleClick:function(){return n.push("/authenticate?register=true")}},a.a.createElement(lt.User,null))),a.a.createElement("li",null,a.a.createElement(Fn,{to:"/basket"},a.a.createElement("span",{style:{color:"#666",fontSize:18}},"Â£",p&&v),a.a.createElement("div",{style:{marginLeft:10,display:"flex"}},a.a.createElement(lt.ShoppingCart,{color:X,size:28}),p.products.length>0&&a.a.createElement(jo,null,p.products.length)))),a.a.createElement("li",{className:"hamburger"},a.a.createElement("a",{href:"#"},a.a.createElement(On.a,{animation:Eo.a,strokeColor:!1===d?"#666":"#E963FF",fillColor:!1===d?"#666":"#E963FF",size:52,wrapperStyle:{marginRight:-25,padding:10},onClick:function(){t({type:!0===d?"HIDE_MENU":"SHOW_MENU"})}}))))))},jo=(K.a.div(Oo(),J),K.a.div(yo(),J),K.a.div(vo(),W)),So=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Kr,null),a.a.createElement(wo,null),e.children)},ko=n(31),_o=n.n(ko),Po=n(32),Co=n.n(Po),To=n(33),Do=n.n(To),Io=n(34),Ro=n.n(Io),Ao=n(21),Fo=n.n(Ao);function No(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fo()(e);if(t){var a=Fo()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ro()(this,n)}}var zo=function(e){var t=e.component;return function(e){Do()(r,e);var n=No(r);function r(){return _o()(this,r),n.apply(this,arguments)}return Co()(r,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(qa,this.props),a.a.createElement(t,this.props))}}]),r}(a.a.Component)},Lo=zo({component:function(e){var t=Object(c.useSelector)((function(e){return e.basket})).basket,n=ra().viewport,o=Object(Lt.useHistory)(),i=Object(r.useState)(0),l=B()(i,2),u=l[0],s=l[1],p=Object(r.useState)(0),d=B()(p,2),f=d[0],m=d[1];Object(r.useEffect)((function(){console.log("BASKET POSTAGE",t.postage),s(t.postage||0),m(it(t.products,u))}),[t]),Object(r.useEffect)((function(){m(it(t.products,u))}),[u]),console.log("BASKET PAGE ",t);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ge,{light:!0,color:"white",height:1e3,mobile:n<904},a.a.createElement(Ue,null,a.a.createElement(rn,null,"Your Basket"),a.a.createElement(oo,null,a.a.createElement(ro,null,n>904&&a.a.createElement(a.a.Fragment,null,a.a.createElement(an,{style:{flex:3}},"Product"),a.a.createElement(an,{style:{flex:1}},"Price"),a.a.createElement(an,{style:{flex:1}},"Quantity"),a.a.createElement(an,{style:{flex:1}},"Total"))),a.a.createElement(ao,null),a.a.createElement(ro,null),t.products.length>0?t.products.map((function(e){return a.a.createElement(ro,{key:e._id},a.a.createElement(Un,{sml:!0,style:{flex:1,marginRight:n<904?20:70}},a.a.createElement("img",{src:e.product_picture_1,style:{display:"block",maxHeight:"70px",maxWidth:"70px",width:"auto",height:"auto"}})),n>904&&a.a.createElement("div",{style:{flex:2,paddingRight:90}},e.product_name," ",a.a.createElement("br",null),e.product_description),a.a.createElement("div",{style:{flex:1,margin:5}},"Â£",e.product_price),a.a.createElement("div",{style:{flex:.5,marginRight:n<904?20:75,display:"flex",justifyContent:"space-around",alignItems:"center"}},n>904&&a.a.createElement(_n,{product:e,function:"delete",icon:!0},a.a.createElement(lt.MinusCircle,{color:"gray",size:28})),e.product_qty,n>904&&a.a.createElement(_n,{product:e,function:"add",icon:!0},a.a.createElement(lt.PlusCircle,{color:"lightgreen",size:28}))),a.a.createElement("div",{style:{flex:1,marginRight:n<904?20:60,display:"flex",alignItems:"center",justifyContent:"space-around"}},"Â£",e.total_price.toFixed(2)))})):a.a.createElement(an,null,"You Dont Have any Items in you basket yet"),a.a.createElement(ro,null,a.a.createElement(ao,null)),a.a.createElement(ro,{narrow:!0},"Postage: Â£",u.toFixed(2)),a.a.createElement(ro,{narrow:!0},"Sales Tax: Â£ ",(0).toFixed(2)),a.a.createElement(ro,{narrow:!0},a.a.createElement(an,null,"Total: Â£",f.toFixed(2))),a.a.createElement(ro,null,n>904&&a.a.createElement(vn,{text:"Back",med:!0,secondary:!0,handleClick:function(){o.goBack()},style:{marginRight:"15px"}},a.a.createElement(lt.ArrowLeft,null)),a.a.createElement(vn,{text:"Secure Checkout",med:!0,handleClick:function(){return e="/checkout",void o.push(e);var e},style:{marginRight:"9%"}},a.a.createElement(lt.CreditCard,null)))))))}});function Go(){var e=Object(i.useLocation)().pathname;return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}function Uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uo(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bo=function(e){var t=Object(c.useDispatch)(),n=Object(Lt.useHistory)();Object(r.useEffect)((function(){var t=new URLSearchParams(e.location.search).get("register");p({type:"UPDATE_FIELD",fieldName:"register",fieldValue:t})}),[e.location.search]);var o={loading:!1,errorMsg:"",authenticated:!1,fields:{register:m,identifier:"",password:"",password_confirmation:"",username:""}},i=Object(r.useReducer)((function(e,t){switch(t.type){case"UPDATE_FIELD":return Mo(Mo({},e),{},{fields:Mo(Mo({},e.fields),{},u()({},t.fieldName,t.fieldValue))});case"LOGGING_IN":return Mo(Mo({},e),{},{loading:!0});case"LOGGED_IN":return Mo(Mo({},e),{},{loading:!1});default:return e}}),o),l=B()(i,2),s=l[0],p=l[1],d=(s.authenticated,s.guest,s.loading),f=s.fields,m=(f.email,f.password,f.register),g=(f.username,f.password_confirmation,na({dispatch:t,loginState:s})),h=g.handleStrapiLogin,b=(g.errorMsg,g.isLoggedIn,function(){var e=U()(L.a.mark((function e(r){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),p({type:"LOGGING_IN"}),e.next=4,h(s.fields,t);case 4:p({type:"LOGGED_IN"}),n.push("/basket");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return a.a.createElement(a.a.Fragment,null,a.a.createElement(Le,null,a.a.createElement(aa,{type:"standalone",data:s.fields,handleChange:function(e){var t=e.target,n=t.name,r=t.value,a=t.type,o=t.checked;"checkbox"!==a?(p({type:"UPDATE_FIELD",fieldName:n,fieldValue:r}),console.log("LOGIN STATE ",s.fields.email)):p({type:"UPDATE_FIELD",fieldName:n,fieldValue:o})},handleLogin:b,loading:d?1:void 0})))};function qo(){var e=H()(["\n  max-width: 100vw;\n  overflow: hidden;\n"]);return qo=function(){return e},e}function Ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ho(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ko(e){var t,n,o=Object(c.useSelector)((function(e){return e.products})),l=ra().viewport;console.log("PRODUCTS ",o),o.products&&(t=o.products.filter((function(e){return!0===e.product_featured})),n=null==o?void 0:o.products.sort((function(e,t){return e.product_sold_quantity>t.product_sold_quantity?1:-1})));var s=Object(c.useDispatch)(),p=Object(i.useHistory)(),d=ta({selectedProduct:b,products:o}),f=d.isShowing,m=d.toggle,g=Object(r.useState)({}),h=B()(g,2),b=h[0],x=h[1],E=Object(r.useState)([]),v=B()(E,2),y=v[0],O=v[1],w=Object(r.useState)("POP"===p.action),j=B()(w,2),S=j[0],k=j[1],_=Object(r.useState)({email:""}),P=B()(_,2),C=P[0],T=P[1];Object(r.useEffect)((function(){if(console.log("KEYS: ","sk_test_rvboOk0S3wSR1tPGYuzzcjpV",p),process.browser){var e=localStorage.getItem("soap-cart");e&&(O(JSON.parse(e)),s({type:"SET_INITIAL_BASKET",payload:JSON.parse(e)}))}o.products.length||"PUSH"===p.action?k(!1):D()}),[,p.action]);var D=function(){var t=U()(L.a.mark((function t(){var n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),t.next=3,yt("/products","GET",void 0,"public");case 3:(n=t.sent)&&(s({type:"FETCH_PRODUCTS",payload:n}),k(!1)),console.log("MYAPI PRODUCTS ",n),console.log("HOME PROPS ",e);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){console.log("Changed Cart",y)}),[y]);var I=function(e){console.log("event");var t=o.products.filter((function(t){return t.id===e}));x(t[0]),console.log("SELECTED",b),m()};return a.a.createElement(a.a.Fragment,null,S?a.a.createElement(Mr,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(Me,{viewPort:l,sm:l<916},a.a.createElement("img",{src:"/drips.png",alt:"drips",style:{float:"right",width:"500px",transform:"translateY(-30px)"}}),l>963&&a.a.createElement("img",{src:"/logo-big.svg",alt:"chunky soap",style:{float:"left",width:"450px",transform:"translateX(-40px)"}}),l>961?a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{className:"girl-pic",src:"/girl.webp",alt:"chunky soap girl",style:{position:"absolute",width:"480px",transform:"translateX(-120px)",top:188}}),ce.map((function(e,t){return a.a.createElement(or,hn()({},e,{key:t}))})),a.a.createElement("div",{style:{top:260,left:"800px",width:550,position:"absolute"}},a.a.createElement(tn,null,"Natural soap bars & creams for all skin types"),a.a.createElement(nn,null,"Because beauty is a fragile gift.."),a.a.createElement(At,{primary:!0,big:!0,style:{marginLeft:"70px",marginTop:"50px"}},a.a.createElement("div",{className:"script-font"},"Visit Shop")))):a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{className:"girl-pic",src:"/oversholder.webp",alt:"chunky soap girl",style:{position:"absolute",maxWidth:"330px",transform:"translateX(-120px)",top:105,left:70}}))),a.a.createElement(Le,null,l>961&&a.a.createElement(Vo,null,le.map((function(e,t){return a.a.createElement(or,hn()({},e,{key:t}))}))),a.a.createElement(Wa,{sm:l<450}),a.a.createElement(en,null,"Featured Products"),a.a.createElement(Jn,{perPage:3,data:t,handleClick:I}),a.a.createElement(Ja,{viewPort:l}),a.a.createElement(en,null,"Most Popular Products"),a.a.createElement(Jn,{perPage:3,data:n,handleClick:I})),a.a.createElement("div",{style:{marginTop:"-100px"}},a.a.createElement(ga,{cols:"100%",height:200,valid:!1,loading:!1,btnText:"Subscribe",placeholder:"your email address",label:"Subscribe to our newsletter to get special deals",handleChange:function(e){T(Yo(Yo({},C),{},u()({},"email",e.target.value)))},handleSubmit:function(){console.log("submitting: ",C)}})),a.a.createElement(Ba,{height:800}),a.a.createElement(wa,{isShowing:f,hide:m},a.a.createElement(Ia,{product:b,viewProduct:function(e){p.push("/product/".concat(e))}}))))}var Vo=K.a.div(qo()),Wo=zo({component:function(e){var t=e.match.params._id,n=Object(c.useDispatch)(),o=Object(i.useHistory)(),l=Object(c.useSelector)((function(e){return e.products})),u=Object(r.useState)([]),s=B()(u,2),p=s[0],d=s[1],f=ta({products:l}),m=f.isShowing,g=f.toggle,h=f.handleClick,b=f.selectedProduct,x=Object(r.useState)("POP"===o.action),E=B()(x,2),v=E[0],y=E[1];Object(r.useEffect)((function(){U()(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:j(),y(!1);case 4:case"end":return e.stop()}}),e)})))(),console.log("GAT PAGE PRODS ",l)}),[l,t,o.action]);var O=function(e){o.push("/product/".concat(e))},w=function(){var e=U()(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l.products.length>0)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,yt("/products","GET",void 0,"public");case 4:t=e.sent,n({type:"FETCH_PRODUCTS",payload:t});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=l.products.filter((function(e){return e.categories[0]._id===t}));d(e),console.log("FILTERED ",e,t)};return a.a.createElement(a.a.Fragment,null,v?a.a.createElement(Mr,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(Le,null,p&&a.a.createElement(Jn,{perPage:3,data:p,handleClick:h})),a.a.createElement(Ba,null),a.a.createElement(wa,{isShowing:m,hide:g},a.a.createElement(Ia,{product:b,viewProduct:O}))))}});function Jo(){var e=H()(["\n  position: absolute;\n   min-width: 750px;\n   margin-top: 10px;\n   ","\n   left: 12%;\n   text-align: center;\n"]);return Jo=function(){return e},e}function Xo(){var e=H()(["\n    flex: 1.3;\n    ","\n    min-width: 450px;\n    min-height: 800px;\n    margin-top: 40px;\n    padding: 20px 10px;\n       &::-webkit-scrollbar {\n        display: none;\n        }\n"]);return Xo=function(){return e},e}function Qo(){var e=H()(["\n    width: 50%;\n    min-width: 700px;\n    flex: 2;\n    padding: 0px;\n    margin: 0px 10px 20px 10px;   \n"]);return Qo=function(){return e},e}function $o(){var e=H()(["\n    display: flex;\n    flex-wrap: wrap;\n    max-width: 1394px;\n    margin: 50px auto;\n"]);return $o=function(){return e},e}var Zo=function(){var e=Object(c.useSelector)((function(e){return e.basket})).basket,t=Object(r.useState)(0),n=B()(t,2),o=n[0],i=n[1],l=Object(r.useState)(0),u=B()(l,2),s=u[0],p=u[1],d=Object(r.useReducer)(pn,{step:1}),f=B()(d,2),m=f[0];f[1];Object(r.useEffect)((function(){it(e.products)<25||e.postage>4?(console.log("BASKET POSTAGE ",e.postage),p(e.postage||0)):p(0),i(it(e.products,s))}),[e]),Object(r.useEffect)((function(){i(it(e.products,s))}),[s]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:"/drips-dark.svg",style:{position:"absolute",right:0,top:0,width:500,zIndex:0}}),a.a.createElement(Ge,{light:!0,height:1500},a.a.createElement(Le,null,a.a.createElement(rn,null,"Checkout"),a.a.createElement(ec,null,a.a.createElement(tc,null,a.a.createElement(Xr,null)),4===!m.step&&a.a.createElement(nc,{style:{borderLeft:"1px solid #D8D8D8"}},a.a.createElement(oo,{style:{transform:"translateY(-120px)"}},a.a.createElement(ro,null,a.a.createElement(an,{style:{flex:3}},"Your Basket")),a.a.createElement("div",{style:{maxHeight:700}},e.products.length>0?e.products.map((function(e){return a.a.createElement(ro,{key:e._id},a.a.createElement(ln,{style:{flex:1},big:!0},e.product_qty," x"),a.a.createElement(Un,{sml:!0,style:{flex:1,marginRight:20}},a.a.createElement("img",{src:e.product_picture_1,style:{display:"block",maxHeight:"70px",maxWidth:"70px",width:"auto",height:"auto"}})),a.a.createElement("div",{style:{flex:3,paddingRight:20}},a.a.createElement(ln,null,e.product_name)),a.a.createElement("div",{style:{flex:1,marginRight:10,display:"flex",alignItems:"center",justifyContent:"space-around"}},a.a.createElement(ln,null,"Â£",e.total_price.toFixed(2))))})):a.a.createElement(an,null,"You Dont Have any Items in you basket yet")),a.a.createElement(ro,null,a.a.createElement(ao,null)),a.a.createElement(ro,{narrow:!0},a.a.createElement(wr,{withButton:!0,buttonText:"Apply",label:"Redeem Coupon / Discount Code",type:"text",placeholder:"COUPON CODE",handleChange:function(){}})),a.a.createElement(ro,{narrow:!0},"Subtotal. Â£ ",it(e.products).toFixed(2)),a.a.createElement(ro,{narrow:!0},"Postage. Â£",s.toFixed(2)),a.a.createElement(ro,{narrow:!0},"Sales Tax. Â£ ",(0).toFixed(2)),a.a.createElement(ro,null,a.a.createElement(rn,null,"Total. Â£",o.toFixed(2)))))))))},ec=K.a.div($o()),tc=K.a.div(Qo()),nc=K.a.div(Xo(),"");K.a.div(Jo(),"");function rc(){var e=H()(["\n    background-color: transparent;\n    border: transparent solid 1px;\n    width: 50px;\n    height: 50px;\n"]);return rc=function(){return e},e}var ac=function(e){var t=Object(i.useParams)()._id,n=Object(c.useSelector)((function(e){return{currentProduct:e.currentProduct.currentProduct}})).currentProduct,o=Object(r.useState)(1),l=B()(o,2),u=l[0],s=l[1],p=Object(c.useDispatch)(),d=Object(i.useHistory)();Object(r.useEffect)((function(){f()}),[t]);var f=function(){var e=U()(L.a.mark((function e(){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt("/products?id=".concat(t),"GET",void 0,"public");case 2:n=e.sent,console.log("Product page: ",n),p({type:"FETCH_PRODUCT",payload:n[0]});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=Object(r.useCallback)((function(){var e=u>=2?u-1:u;console.log(e),s(e)})),g=Object(r.useCallback)((function(){console.log("triggered");var e=u<100?u+1:u;console.log(e),s(e)})),h=n.product_name,b=n.product_short_description,x=n.product_picture_1,E=n.product_long_description,v=n.product_price,y=n.product_discount;return a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:"/drips-dark.svg",style:{position:"absolute",right:0,top:70,width:500,zIndex:1}}),a.a.createElement(Le,null,a.a.createElement(Go,null),a.a.createElement(Ue,null,a.a.createElement(Ge,{light:!0,height:1050},n&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{padding:"30px 0px 100px 0px",maxWidth:800,zIndex:1e3,position:"relative"}},a.a.createElement(rn,null,h),a.a.createElement(an,{light:!0},b)),a.a.createElement("div",{style:{display:"flex",flexDirection:"columm",paddingLeft:"200",width:"100%",height:700,zIndex:2e3,position:"relative"}},a.a.createElement("div",{id:"leftside",style:{flex:2,paddingLeft:0,display:"flex",flexDirection:"column",justifyContent:"space-between",textAlign:"right"}},a.a.createElement(Un,null,a.a.createElement("img",{src:x&&"".concat(x.url)})),a.a.createElement("div",{style:{flex:1,marginTop:50}},y>0&&a.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"baseline",opacity:.4,justifyContent:"flex-end"}},a.a.createElement(on,null,"Original Price. "),a.a.createElement(rn,null," Â£",v.toFixed(2))),a.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"baseline",justifyContent:"flex-end"}},a.a.createElement(on,null,y>0?"Sale Price.":"Price."),a.a.createElement(rn,null," Â£",(v-v*y/100).toFixed(2)))),a.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",width:"100%",margin:"10px 0px"}},a.a.createElement(ln,null,"Quantity"),a.a.createElement(oc,{onClick:function(){return m()}},a.a.createElement(lt.MinusCircle,{color:"pink",size:34}))," ",u,a.a.createElement(oc,{onClick:function(){return g()}},a.a.createElement(lt.PlusCircle,{color:"pink",size:34}))),a.a.createElement("div",{style:{flex:1}},a.a.createElement(_n,{quantity:u,product:n,function:"add"}))),a.a.createElement("div",{id:"rightside",style:{flex:4,paddingLeft:100,paddingRight:100}},a.a.createElement(an,{dark:!0},"Product Description"),a.a.createElement("div",{style:{minHeight:540}},a.a.createElement(ln,null,E)),a.a.createElement(Ve,null,a.a.createElement(vn,{big:!0,text:"Back"},a.a.createElement(lt.ArrowLeft,null)),a.a.createElement(vn,{big:!0,primary:!0,text:"View Basket",handleClick:function(){return d.push("/basket")}},a.a.createElement(lt.CreditCard,null))))))))))},oc=K.a.button(rc()),cc=zo({component:function(e){Object(c.useDispatch)();var t=Object(i.useHistory)(),n=Object(c.useSelector)((function(e){return e.searchResults.searchResults[0]})),o=Object(c.useSelector)((function(e){return e.products})),l=ta({products:o}),u=l.isShowing,s=l.toggle,p=l.handleClick,d=l.selectedProduct;Object(r.useEffect)((function(){console.log("__PRODUCTS: ",n)}),[n]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Wa,null),n?a.a.createElement(Le,null,a.a.createElement(en,null,"Your in luck!, here a your matches"),a.a.createElement(Jn,{perPage:3,data:n,handleClick:p})):a.a.createElement(Le,null,a.a.createElement(Ge,{light:!0,height:400},a.a.createElement(en,null,"Ooops! We don't have that"))),a.a.createElement(Ba,null),a.a.createElement(wa,{isShowing:u,hide:s},a.a.createElement(Ia,{product:d,viewProduct:function(e){t.push("/product/".concat(e))}})))}}),ic=n(35),lc=n.n(ic),uc=function(e){var t=e.match.params._id,n=Object(i.useHistory)(),o=Object(r.useState)(void 0),c=B()(o,2),l=c[0],u=c[1];Object(r.useEffect)((function(){s()}),[]);var s=function(){var e=U()(L.a.mark((function e(){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt("/orders/".concat(t),"GET",void 0,"public");case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){console.log("ORDER: ",l)}),[l]);var p,d,f,m,g,h,b,x,E,v;return a.a.createElement("div",null,a.a.createElement(Le,null,a.a.createElement(Ge,{light:!0},a.a.createElement("button",{style:{marginBottom:"30px"},onClick:function(){return n.push("/admin")}},"Back"),a.a.createElement("button",{style:{marginBottom:"30px"},onClick:function(){var e;(e=new lc.a("p","pt","a4")).html(document.querySelector("#content"),{callback:function(n){var r=e.internal.getNumberOfPages();n.deletePage(r),n.save("".concat(t,".pdf"))}})}},"Download Invoice"),a.a.createElement("div",{id:"content",style:{height:"838px",width:"591px",padding:"4px"}},l&&(p=l.order_items,d=l.order_total,f=l.order_carrier.shipping_carrier,m=l.order_customer,g=m.customer_address1,h=m.customer_address2,b=m.customer_firstname,x=m.customer_lastname,E=m.customer_town,v=m.customer_postcode,a.a.createElement(Je,{id:"invoice"},a.a.createElement(Xe,null,a.a.createElement(on,null,a.a.createElement("img",{src:"/logo.jpg",style:{width:"130px"}}),a.a.createElement("br",null),"RECEIPT")),a.a.createElement(Qe,null,a.a.createElement(ln,{sml:!0},b," ",x),a.a.createElement(ln,{sml:!0},g),a.a.createElement(ln,{sml:!0},h),a.a.createElement(ln,{sml:!0},E),a.a.createElement(ln,{sml:!0},v)),a.a.createElement($e,null,a.a.createElement(ln,{sml:!0,heavy:!0},"Item"),p&&p.products.map((function(e,t){return a.a.createElement("p",{key:t},a.a.createElement(ln,{sml:!0},e.product_name))})),a.a.createElement(ln,{sml:!0},"Postage: ",f)),a.a.createElement(Ze,null,a.a.createElement(ln,{sml:!0,heavy:!0},"Quantity"),p&&p.products.map((function(e,t){return a.a.createElement(ln,{sml:!0,key:t},e.product_qty)}))),a.a.createElement(et,null,a.a.createElement(ln,{sml:!0,heavy:!0},"Price"),p&&p.products.map((function(e,t){return a.a.createElement(ln,{sml:!0,key:t},"Â£ ",e.total_price.toFixed(2))})),a.a.createElement(ln,{sml:!0},"Â£ ",p.postage.toFixed(2))),a.a.createElement(tt,null,a.a.createElement(ln,null,"Total")),a.a.createElement(nt,null,a.a.createElement(ln,{heavy:!0},"Â£ ",d))))))))},sc=n(36),pc=(n(43),Object(o.createStore)(N)),dc=Object(sc.loadStripe)("pk_test_3o7rovRbtC8Fmec24VShO7pU"),fc=function(){return a.a.createElement(c.Provider,{store:pc},a.a.createElement(ua.Elements,{stripe:dc},a.a.createElement(i.Switch,null,a.a.createElement(So,{color:"light"},a.a.createElement(i.Route,{exact:!0,path:"/",component:Ko}),a.a.createElement(i.Route,{path:"/search-results",component:cc}),a.a.createElement(i.Route,{path:"/basket",component:Lo}),a.a.createElement(i.Route,{exact:!0,path:"/checkout",component:Zo}),a.a.createElement(i.Route,{path:"/product/:_id",exact:!0,component:ac}),a.a.createElement(i.Route,{path:"/category/:_id",component:Wo}),a.a.createElement(i.Route,{path:"/authenticate",component:Bo}),a.a.createElement(Qa,{path:"/admin",store:!0,component:zt}),a.a.createElement(Qa,{path:"/admin/invoices/:_id",component:uc})))))},mc=n(22),gc=n.n(mc),hc=n(37),bc=n(38),xc=new(n.n(bc).a)("sk_test_rvboOk0S3wSR1tPGYuzzcjpV"),Ec=function(){var e=U()(L.a.mark((function e(t,n){var r,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.query.amount,console.log(r),e.next=5,xc.paymentIntents.create({amount:r,currency:"gbp"});case 5:a=e.sent,n.status(200).send(a.client_secret),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n.status(500).json({statusCode:500,message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),vc=n(44),yc=n(45),Oc=vc.join(__dirname,"../build/public"),wc=gc()();wc.disable("x-powered-by").use(gc.a.static(Oc)).get("/api/stripe-payment",(function(e,t){console.log("STRIPE HANDLER ",e.query.data),t.status(200).json(JSON.parse(e.query.data))})).get("/api/payment_intents",Ec).get("/*",(function(e,t){var n={},r=Object(hc.renderToString)(a.a.createElement(i.StaticRouter,{context:n,location:e.url},a.a.createElement(fc,null)));n.url?t.redirect(n.url):t.status(200).send('<!doctype html>\n    <html lang="">\n    <head>\n        <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n        <meta charset="utf-8" />\n        <title>Chunky Soap Company</title>\n        <meta name="viewport" content="width=device-width, initial-scale=1">\n        '.concat(yc.client.css?'<link rel="stylesheet" href="'.concat(yc.client.css,'">'):"","\n        ").concat('<script src="'.concat(yc.client.js,'" defer><\/script>'),'\n    </head>\n    <body>\n        <div id="root">').concat(r,"</div>\n    </body>\n</html>"))}));t.default=wc}]);
//# sourceMappingURL=server.js.map