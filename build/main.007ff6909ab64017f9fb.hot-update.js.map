{"version":3,"file":"main.007ff6909ab64017f9fb.hot-update.js","sources":["webpack:///./src/containers/CheckoutPage.js"],"sourcesContent":["import React, { useEffect, useState, useReducer } from 'react'\nimport { useSelector } from 'react-redux'\nimport styled from 'styled-components'\nimport { Container , Section, Wrapper} from '../styles/layout'\nimport { WxStep, SimpleTextInput } from '../components/ui'\nimport { checkoutReducer, CheckoutSteps } from '../components'\nimport { ProductFrame, Bubble, Step } from '../styles/ui'\nimport { BannerHeading, Heading1, Heading2, Paragraph } from '../styles/typography'\nimport { BasketWrapper, ProductRow, Divider } from '../styles/ui/basket'\nimport * as vars from '../styles/variables'\nimport * as fn from '../helpers/functions'\n\nconst CheckoutPage = () => {\n// do logged in check\n    const { basket } = useSelector(state => state.basket)\n    const [ total, setTotal ] = useState(0)\n    const [ postage, setPostage ] = useState(0.00)\n\n    const initialState = {\n        step: 1\n    }\n\n    const [cartState, cartDispatch] = useReducer(checkoutReducer, initialState)\n\n    useEffect(() => {\n        if (fn.getCartTotal(basket.products) < 25 || basket.postage > 4 ) {\n            console.log(\"BASKET POSTAGE \", basket.postage)\n            setPostage(basket.postage || 0.00)\n        } else {\n            setPostage(0)\n        }\n        setTotal(fn.getCartTotal(basket.products, postage))\n    }, [basket])\n\n    useEffect(() => {\n        setTotal(fn.getCartTotal(basket.products, postage))\n    }, [postage])\n\n    // const handleChange = (e) => {\n    //     console.log(\"EVENT \", e.target.value, e.target.name)\n    // }\n\n    const steps = [\n        {no: 1, label: 'Account'},   \n        {no: 2, label: 'Shipping'},   \n        {no: 3, label: 'Payment'},   \n        {no: 4, label: 'Success'},   \n    ]\n    return (\n        <>\n            <img src=\"/drips-dark.svg\" style={{ position: 'absolute', right: 0, top: 0, width: 500, zIndex: 0 }}/>\n        <Section light height={1500}>\n            <Container>\n                    <Heading1>Checkout</Heading1>\n                <CheckoutWrapper>\n                    <CheckoutActions>\n                        <CheckoutSteps />\n                    </CheckoutActions>\n                    <BasketSection style={{borderLeft: '1px solid #D8D8D8'}}>\n                <BasketWrapper style={{transform: 'translateY(-120px)'}}>\n                <ProductRow>\n                    <Heading2 style={{flex: 3}}>Your Basket</Heading2>\n                </ProductRow>\n                <div style={{maxHeight: 700 }}>\n\n                    {basket.products.length > 0 ?  basket.products.map(el => \n                        \n                        <ProductRow key={el._id}>\n                        <Paragraph style={{flex: 1}} big>\n                            {el.product_qty} x\n                        </Paragraph>\n                            <ProductFrame sml style={{flex: 1, marginRight: 20}} >\n                                <img src={el.product_picture_1} \n                                style={{display: 'block', maxHeight: '70px', maxWidth: '70px', width: 'auto', height: 'auto'}}\n                                />\n                                {/* <img src={`http://localhost:1337${el.product_picture_1}`} \n                                style={{display: 'block', maxHeight: '70px', maxWidth: '70px', width: 'auto', height: 'auto'}}\n                                /> */}\n                            </ProductFrame>\n                            <div style={{flex: 3, paddingRight: 20}}>\n                            <Paragraph>\n                                {el.product_name}\n                            </Paragraph>\n                            </div>\n                            <div style={{flex: 1, marginRight: 10, display: 'flex', alignItems: 'center', justifyContent: 'space-around'}}>\n                                <Paragraph>\n                                    &pound;{el.total_price.toFixed(2)}\n                                </Paragraph>\n                                {/* <Trash2 size={32} color=\"#837D7D\" style={{transform: 'translateX(20px)'}}/> */}\n                            </div>\n                        </ProductRow>\n                    ) :  <Heading2>You Dont Have any Items in you basket yet</Heading2>\n                    }\n                </div>\n                    <ProductRow>\n                        <Divider />\n                    </ProductRow>\n                    <ProductRow narrow>\n                            <SimpleTextInput withButton buttonText=\"Apply\" label=\"Redeem Coupon / Discount Code\" type=\"text\" placeholder=\"COUPON CODE\" handleChange={() => {}}/>\n                    </ProductRow>\n                    <ProductRow narrow>\n                            Subtotal. &pound; {fn.getCartTotal(basket.products).toFixed(2) }\n                    </ProductRow>\n                    <ProductRow narrow>\n                            Postage. &pound;{postage.toFixed(2)}\n                    </ProductRow>\n                    <ProductRow narrow>\n                            Sales Tax. &pound; {0.00.toFixed(2)}\n                    </ProductRow>\n                    <ProductRow >\n                        <Heading1>\n                            Total. &pound;{total.toFixed(2)}\n                        </Heading1>\n                    </ProductRow>\n                </BasketWrapper>\n                    </BasketSection>\n                </CheckoutWrapper>\n            </Container>\n        </Section>\n        </>\n    )\n}\n\nexport default CheckoutPage\n\nconst CheckoutWrapper = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    max-width: 1394px;\n    margin: 50px auto;\n`\n\nconst CheckoutActions = styled.div`\n    width: 50%;\n    min-width: 700px;\n    flex: 2;\n    padding: 0px;\n    margin: 0px 10px 20px 10px;   \n`\nconst BasketSection = styled.div`\n    flex: 1.3;\n    ${'' /* border: 1px solid gray; */}\n    min-width: 450px;\n    min-height: 800px;\n    margin-top: 40px;\n    padding: 20px 10px;\n       &::-webkit-scrollbar {\n        display: none;\n        }\n`\nconst Steps = styled.div`\n  position: absolute;\n   min-width: 750px;\n   margin-top: 10px;\n   ${'' /* right: 40%; */}\n   left: 12%;\n   text-align: center;\n`"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAEA;AAAA;AAFA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AADA;AACA;AAPA;AAAA;AAAA;AAAA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AApBA;AA0BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AAEA;AAOA;AAOA;AAEA;AAFA;AAWA;AAIA;AAJA;;;;A","sourceRoot":""}